{"ast":null,"code":"var _jsxFileName = \"/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function WhatsAppAudioRecorder() {\n  _s();\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const [permissionStatus, setPermissionStatus] = useState('checking');\n  const [error, setError] = useState(null);\n  const [workingDirectory, setWorkingDirectory] = useState(null);\n  const [supportedFormats, setSupportedFormats] = useState([]);\n  const [selectedFormat, setSelectedFormat] = useState(null);\n  const [platformInfo, setPlatformInfo] = useState({\n    os: 'unknown'\n  });\n  const [setupStatus, setSetupStatus] = useState({\n    isConfigured: false,\n    directoryName: null,\n    lastVerified: null,\n    platformOS: null\n  });\n  const [fileCounter, setFileCounter] = useState(1);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n  const debugLog = (message, data = null) => {\n    console.log(`🎤 ${message}`, data);\n  };\n\n  // STRATEGIC: Simplified persistent state management\n  const STORAGE_KEYS = {\n    directory: 'whatsapp-audio-studio-directory-config',\n    counter: 'whatsapp-audio-studio-file-counter'\n  };\n  const getNextFileNumber = () => {\n    try {\n      const savedCounter = localStorage.getItem(STORAGE_KEYS.counter);\n      const currentCounter = savedCounter ? parseInt(savedCounter, 10) : 1;\n      const nextCounter = currentCounter;\n      localStorage.setItem(STORAGE_KEYS.counter, (currentCounter + 1).toString());\n      setFileCounter(nextCounter);\n      debugLog('📊 File counter', {\n        current: nextCounter,\n        next: currentCounter + 1\n      });\n      return nextCounter;\n    } catch (err) {\n      debugLog('⚠️ Counter management failed, using fallback', err.message);\n      return Date.now();\n    }\n  };\n  const resetFileCounter = () => {\n    try {\n      localStorage.setItem(STORAGE_KEYS.counter, '1');\n      setFileCounter(1);\n      debugLog('🔄 File counter reset to 1');\n    } catch (err) {\n      debugLog('⚠️ Failed to reset counter', err.message);\n    }\n  };\n  const saveDirectoryConfig = (directoryHandle, directoryName) => {\n    try {\n      const config = {\n        isConfigured: true,\n        directoryName: directoryName,\n        lastVerified: Date.now(),\n        platformOS: platformInfo.os,\n        version: '2.0'\n      };\n      localStorage.setItem(STORAGE_KEYS.directory, JSON.stringify(config));\n      setSetupStatus(config);\n      debugLog('✅ Directory config saved', config);\n    } catch (err) {\n      debugLog('⚠️ Failed to save directory config', err.message);\n    }\n  };\n  const loadDirectoryConfig = () => {\n    try {\n      const savedConfig = localStorage.getItem(STORAGE_KEYS.directory);\n      if (savedConfig) {\n        const config = JSON.parse(savedConfig);\n        const weekAgo = Date.now() - 7 * 24 * 60 * 60 * 1000;\n        if (config.lastVerified > weekAgo && config.platformOS === platformInfo.os) {\n          setSetupStatus(config);\n          debugLog('✅ Directory config restored', config);\n          return config;\n        } else {\n          debugLog('⚠️ Directory config expired or platform changed');\n          clearDirectoryConfig();\n        }\n      }\n    } catch (err) {\n      debugLog('⚠️ Failed to load directory config', err.message);\n      clearDirectoryConfig();\n    }\n    return null;\n  };\n  const clearDirectoryConfig = () => {\n    try {\n      localStorage.removeItem(STORAGE_KEYS.directory);\n      setSetupStatus({\n        isConfigured: false,\n        directoryName: null,\n        lastVerified: null,\n        platformOS: null\n      });\n      debugLog('🧹 Directory config cleared');\n    } catch (err) {\n      debugLog('⚠️ Failed to clear directory config', err.message);\n    }\n  };\n  const detectPlatform = () => {\n    const userAgent = navigator.userAgent.toLowerCase();\n    const platform = navigator.platform.toLowerCase();\n    let os = 'linux';\n    if (platform.includes('win') || userAgent.includes('windows')) {\n      os = 'windows';\n    } else if (platform.includes('mac') || userAgent.includes('mac')) {\n      os = 'macos';\n    }\n    const info = {\n      os\n    };\n    setPlatformInfo(info);\n    debugLog('✅ Platform detected', info);\n    return info;\n  };\n  const detectSupportedFormats = () => {\n    const formats = [{\n      mimeType: 'audio/webm; codecs=opus',\n      name: 'WebM Opus',\n      priority: 1\n    }, {\n      mimeType: 'audio/webm',\n      name: 'WebM',\n      priority: 2\n    }, {\n      mimeType: 'audio/ogg; codecs=opus',\n      name: 'OGG Opus',\n      priority: 3\n    }, {\n      mimeType: 'audio/ogg',\n      name: 'OGG',\n      priority: 4\n    }, {\n      mimeType: 'audio/mp4',\n      name: 'MP4',\n      priority: 5\n    }];\n    const supported = formats.filter(format => MediaRecorder.isTypeSupported(format.mimeType)).sort((a, b) => a.priority - b.priority);\n    setSupportedFormats(supported);\n    if (supported.length > 0) {\n      setSelectedFormat(supported[0]);\n      debugLog('✅ Audio formats detected', {\n        supported: supported.map(f => f.name),\n        selected: supported[0].name\n      });\n    } else {\n      setError('No supported audio recording formats found');\n      debugLog('❌ No MediaRecorder support detected');\n    }\n    return supported;\n  };\n\n  // STRATEGIC: Simplified directory setup for watchdog integration\n  const setupWorkingDirectory = async () => {\n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'downloads'\n        });\n        setWorkingDirectory(dirHandle);\n        const platform = detectPlatform();\n\n        // Create simple README for watchdog setup\n        const readme = `# WhatsApp Audio Studio - Watchdog Integration\n\n## ✅ Directory Setup Complete\n**Directory:** ${dirHandle.name}  \n**Platform:** ${platform.os.charAt(0).toUpperCase() + platform.os.slice(1)}  \n**Setup Date:** ${new Date().toLocaleString()}  \n**Mode:** External FFmpeg Watchdog Integration  \n\n## How it works:\n1. Record audio in the web app\n2. App creates numbered .webm files (1.webm, 2.webm, 3.webm...)\n3. Your external watchdog processes these files with FFmpeg\n4. Watchdog creates WhatsApp-compatible .ogg files\n5. Watchdog cleans up .webm files after processing\n\n## File Pattern:\n- **Input:** 1.webm, 2.webm, 3.webm, ... (created by web app)\n- **Output:** 1.ogg, 2.ogg, 3.ogg, ... (created by your watchdog)\n- **Clean:** Only .ogg files remain after processing\n\n## Watchdog Integration Notes:\n- App only creates .webm files with simple numbered names\n- No scripts or temporary files generated by the app\n- Clean directory structure maintained by external watchdog\n- Perfect for automated FFmpeg processing workflows\n\n## WhatsApp Compatibility:\n✅ Voice messages: Your watchdog creates .ogg files optimized for WhatsApp  \n✅ Professional quality: External FFmpeg ensures perfect compatibility  \n✅ Clean workflow: Automated processing with minimal file clutter  \n\n## Counter Management:\n🔢 **File Counter:** Persisted across browser sessions  \n🔄 **Reset Option:** Available in app to restart from 1  \n🧠 **Smart Caching:** Directory setting remembered for 7 days  \n\nPerfect integration with external automation tools!`;\n        const readmeBlob = new Blob([readme], {\n          type: 'text/plain'\n        });\n        const readmeHandle = await dirHandle.getFileHandle('README.md', {\n          create: true\n        });\n        const readmeWritable = await readmeHandle.createWritable();\n        await readmeWritable.write(readmeBlob);\n        await readmeWritable.close();\n\n        // Save configuration\n        saveDirectoryConfig(dirHandle, dirHandle.name);\n        debugLog('✅ Simplified directory setup complete', {\n          platform: platform.os,\n          directory: dirHandle.name,\n          mode: 'watchdog-integration'\n        });\n        return true;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('⚠️ Directory setup declined', err.message);\n        setError('Directory access required for audio output');\n      }\n      return false;\n    }\n  };\n  const restoreWorkingDirectory = async () => {\n    if (!setupStatus.isConfigured) return false;\n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'downloads'\n        });\n        setWorkingDirectory(dirHandle);\n        saveDirectoryConfig(dirHandle, dirHandle.name);\n        debugLog('✅ Working directory restored', {\n          directory: dirHandle.name,\n          cached: true\n        });\n        return true;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('⚠️ Failed to restore working directory', err.message);\n      }\n    }\n    return false;\n  };\n  const checkAndRequestPermissions = async () => {\n    try {\n      setPermissionStatus('checking');\n      const testStream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2\n        }\n      });\n      debugLog('✅ Microphone access granted');\n      testStream.getTracks().forEach(track => track.stop());\n      setPermissionStatus('granted');\n\n      // Initialize after permission granted\n      detectSupportedFormats();\n      const platform = detectPlatform();\n\n      // Load cached directory configuration\n      const cachedConfig = loadDirectoryConfig();\n      if (cachedConfig && cachedConfig.isConfigured) {\n        debugLog('🧠 Directory configuration remembered', {\n          directory: cachedConfig.directoryName,\n          platform: cachedConfig.platformOS\n        });\n      }\n      return true;\n    } catch (err) {\n      debugLog('❌ Permissions denied', err.message);\n      setPermissionStatus('denied');\n      setError(`Microphone required: ${err.message}`);\n      return false;\n    }\n  };\n  useEffect(() => {\n    checkAndRequestPermissions();\n  }, []);\n  const cleanup = useCallback(() => {\n    var _mediaRecorderRef$cur, _audioContextRef$curr;\n    [timerRef, animationRef].forEach(ref => {\n      if (ref.current) {\n        ref === timerRef ? clearInterval(ref.current) : cancelAnimationFrame(ref.current);\n        ref.current = null;\n      }\n    });\n    if (((_mediaRecorderRef$cur = mediaRecorderRef.current) === null || _mediaRecorderRef$cur === void 0 ? void 0 : _mediaRecorderRef$cur.state) !== 'inactive') {\n      try {\n        var _mediaRecorderRef$cur2;\n        (_mediaRecorderRef$cur2 = mediaRecorderRef.current) === null || _mediaRecorderRef$cur2 === void 0 ? void 0 : _mediaRecorderRef$cur2.stop();\n      } catch (e) {\n        debugLog('⚠️ MediaRecorder cleanup', e.message);\n      }\n      mediaRecorderRef.current = null;\n    }\n    if (((_audioContextRef$curr = audioContextRef.current) === null || _audioContextRef$curr === void 0 ? void 0 : _audioContextRef$curr.state) !== 'closed') {\n      var _audioContextRef$curr2;\n      (_audioContextRef$curr2 = audioContextRef.current) === null || _audioContextRef$curr2 === void 0 ? void 0 : _audioContextRef$curr2.close();\n      audioContextRef.current = null;\n    }\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n      setAudioStream(null);\n    }\n    setIsRecording(false);\n    setRecordingTime(0);\n  }, []);\n  useEffect(() => cleanup, [cleanup]);\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => setRecordingTime(prev => prev + 1), 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setRecordingTime(0);\n    }\n    return () => timerRef.current && clearInterval(timerRef.current);\n  }, [isRecording]);\n  const drawWaveform = useCallback(() => {\n    if (!canvasRef.current || !analyserRef.current || !isRecording) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n    const draw = () => {\n      if (!isRecording) return;\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteFrequencyData(dataArray);\n      ctx.fillStyle = \"#f0f2f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      const barWidth = canvas.width / dataArray.length * 2.5;\n      let x = 0;\n      for (let i = 0; i < dataArray.length; i++) {\n        const barHeight = dataArray[i] / 255 * canvas.height * 0.9;\n        const gradient = ctx.createLinearGradient(0, canvas.height - barHeight, 0, canvas.height);\n        gradient.addColorStop(0, '#25D366');\n        gradient.addColorStop(0.5, '#128C7E');\n        gradient.addColorStop(1, '#0d7377');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, canvas.height - barHeight, barWidth - 1, barHeight);\n        x += barWidth;\n      }\n    };\n    draw();\n  }, [isRecording]);\n\n  // STRATEGIC: Pure audio recording with clean file output\n  const startRecording = async () => {\n    try {\n      debugLog('🎬 Starting clean audio recording...');\n      setError(null);\n      cleanup();\n      if (permissionStatus !== 'granted') {\n        const granted = await checkAndRequestPermissions();\n        if (!granted) return;\n      }\n      if (!selectedFormat) {\n        setError('No supported recording format available');\n        return;\n      }\n      if (!workingDirectory) {\n        setError('Working directory required - please setup directory first');\n        return;\n      }\n\n      // High-quality audio recording\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2,\n          latency: 0.01\n        }\n      });\n      streamRef.current = stream;\n      setAudioStream(stream);\n\n      // Audio visualization\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      if (audioCtx.state === 'suspended') await audioCtx.resume();\n      const source = audioCtx.createMediaStreamSource(stream);\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 512;\n      analyser.smoothingTimeConstant = 0.3;\n      source.connect(analyser);\n      audioContextRef.current = audioCtx;\n      analyserRef.current = analyser;\n      dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\n\n      // Use best supported format\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: selectedFormat.mimeType,\n        audioBitsPerSecond: 320000 // High quality for external processing\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.onstart = () => {\n        debugLog('🎬 Recording started', {\n          format: selectedFormat.name,\n          platform: platformInfo.os\n        });\n        setIsRecording(true);\n        drawWaveform();\n      };\n      mediaRecorder.ondataavailable = event => {\n        var _event$data;\n        if (((_event$data = event.data) === null || _event$data === void 0 ? void 0 : _event$data.size) > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        debugLog('⏹️ Saving recorded audio...');\n        if (audioChunksRef.current.length > 0) {\n          const rawBlob = new Blob(audioChunksRef.current, {\n            type: selectedFormat.mimeType\n          });\n          try {\n            const fileNumber = getNextFileNumber();\n            await saveAudioFile(rawBlob, fileNumber);\n          } catch (err) {\n            debugLog('⚠️ Save failed', err.message);\n            setError(`Failed to save audio: ${err.message}`);\n          }\n        } else {\n          setError('No audio data captured');\n        }\n        audioChunksRef.current = [];\n      };\n      mediaRecorder.onerror = event => {\n        var _event$error;\n        debugLog('❌ Recording error', event.error);\n        setError(`Recording failed: ${(_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.message}`);\n        cleanup();\n      };\n      mediaRecorder.start(50);\n    } catch (err) {\n      debugLog('💥 Recording failed', err);\n      setError(`Failed to start: ${err.message}`);\n      cleanup();\n    }\n  };\n  const stopRecording = () => {\n    var _mediaRecorderRef$cur3;\n    debugLog('⏹️ Stopping recording...');\n    if (((_mediaRecorderRef$cur3 = mediaRecorderRef.current) === null || _mediaRecorderRef$cur3 === void 0 ? void 0 : _mediaRecorderRef$cur3.state) === 'recording') {\n      mediaRecorderRef.current.stop();\n    }\n    setIsRecording(false);\n    setTimeout(cleanup, 1000);\n  };\n\n  // STRATEGIC: Clean file saving for watchdog processing\n  const saveAudioFile = async (blob, fileNumber) => {\n    if (!workingDirectory) {\n      throw new Error('Working directory not available');\n    }\n    try {\n      const filename = `${fileNumber}.webm`;\n\n      // Write WebM file directly\n      const fileHandle = await workingDirectory.getFileHandle(filename, {\n        create: true\n      });\n      const writable = await fileHandle.createWritable();\n      await writable.write(blob);\n      await writable.close();\n\n      // Create recording entry for UI\n      const recording = {\n        id: Date.now(),\n        filename,\n        fileNumber,\n        duration: recordingTime,\n        timestamp: new Date().toLocaleTimeString(),\n        size: blob.size,\n        format: selectedFormat.name,\n        directory: workingDirectory.name,\n        status: 'ready-for-watchdog'\n      };\n      setRecordings(prev => [...prev, recording]);\n      debugLog(`✅ Audio file saved: ${filename}`, {\n        size: blob.size,\n        format: selectedFormat.name,\n        watchdogReady: true\n      });\n    } catch (err) {\n      debugLog('❌ File save failed', err.message);\n      throw err;\n    }\n  };\n  const removeRecording = index => {\n    setRecordings(prev => prev.filter((_, i) => i !== index));\n  };\n  const formatFileSize = bytes => {\n    if (!bytes) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n  const getPlatformIcon = os => {\n    switch (os) {\n      case 'windows':\n        return '🪟';\n      case 'macos':\n        return '🍎';\n      case 'linux':\n        return '🐧';\n      default:\n        return '💻';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-[#ece5dd] min-h-screen p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-[#075e54] via-[#128C7E] to-[#25D366] text-white p-6 rounded-lg shadow-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl\",\n              children: \"\\uD83C\\uDFA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold\",\n              children: \"WhatsApp Audio Studio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm opacity-90\",\n              children: \"Pure audio recorder + External FFmpeg watchdog integration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: permissionStatus === 'granted' ? '✅ Ready' : permissionStatus === 'denied' ? '❌ Access Required' : '⏳ Initializing...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"opacity-75 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: getPlatformIcon(platformInfo.os)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [platformInfo.os, \" \\u2022 \", (selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name) || 'Detecting...']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 13\n          }, this), workingDirectory && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs opacity-75\",\n            children: [\"\\uD83D\\uDCC1 \", workingDirectory.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border border-blue-200 p-4 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-blue-800 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: getPlatformIcon(platformInfo.os)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Platform: \", platformInfo.os.charAt(0).toUpperCase() + platformInfo.os.slice(1)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 15\n            }, this), workingDirectory && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium\",\n              children: \"\\u2705 Watchdog Ready\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-600\",\n            children: [\"Audio: \", supportedFormats.map(f => f.name).join(', '), \" \\u2022 Using: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 22\n            }, this), workingDirectory && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-green-600\",\n              children: [\"\\u2022 Directory: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: workingDirectory.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-blue-600 text-sm flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [supportedFormats.length, \" format\", supportedFormats.length !== 1 ? 's' : '', \" supported\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: [\"Next file: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: fileCounter\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 15\n            }, this), workingDirectory && setupStatus.isConfigured && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-1 text-green-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83E\\uDDE0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs\",\n                children: \"Cached\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resetFileCounter,\n            className: \"px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded text-xs transition-colors\",\n            title: \"Reset file counter to 1\",\n            children: \"\\uD83D\\uDD04 Reset Counter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 7\n    }, this), !workingDirectory && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `border p-6 rounded-lg ${setupStatus.isConfigured ? 'bg-blue-50 border-blue-200' : 'bg-amber-50 border-amber-200'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-3xl\",\n            children: setupStatus.isConfigured ? '🧠' : '📁'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: setupStatus.isConfigured ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-blue-800 flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Directory Configuration Remembered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: getPlatformIcon(platformInfo.os)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-600\",\n                children: [\"Previous setup: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: setupStatus.directoryName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 39\n                }, this), \" \\u2022 Last used: \", new Date(setupStatus.lastVerified).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-500 mt-1\",\n                children: \"Click \\\"Restore Access\\\" to continue using your configured directory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-amber-800 flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Working Directory Required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 688,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: getPlatformIcon(platformInfo.os)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-amber-600\",\n                children: \"Select directory where .webm files will be saved for your watchdog\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-amber-500 mt-1\",\n                children: \"App creates numbered .webm files, your watchdog processes them\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: setupStatus.isConfigured ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: restoreWorkingDirectory,\n              className: \"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-md\",\n              children: \"\\uD83D\\uDD04 Restore Access\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                clearDirectoryConfig();\n                setWorkingDirectory(null);\n              },\n              className: \"px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors\",\n              title: \"Clear cached configuration\",\n              children: \"\\uD83E\\uDDF9 Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: setupWorkingDirectory,\n            className: \"px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors shadow-md\",\n            children: \"Setup Working Directory\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border-l-4 border-red-400 p-4 rounded flex justify-between items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-700\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 737,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"text-red-400 hover:text-red-600 font-bold text-xl ml-4\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center\",\n      children: !isRecording ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startRecording,\n        disabled: permissionStatus !== 'granted' || !selectedFormat || !workingDirectory,\n        className: `flex items-center space-x-4 px-10 py-5 rounded-full shadow-2xl transition-all transform hover:scale-105 ${permissionStatus !== 'granted' || !selectedFormat || !workingDirectory ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-gradient-to-r from-[#25D366] via-[#128C7E] to-[#075e54] hover:from-[#128C7E] hover:to-[#075e54] text-white'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-3xl\",\n          children: \"\\uD83C\\uDFA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-bold text-lg\",\n            children: \"Start Recording\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm opacity-90\",\n            children: selectedFormat && workingDirectory ? `${selectedFormat.name} • File: ${fileCounter}.webm` : 'Setup required...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopRecording,\n        className: \"flex items-center space-x-4 bg-red-500 hover:bg-red-600 text-white px-10 py-5 rounded-full shadow-2xl relative transition-all transform hover:scale-105\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-3xl\",\n          children: \"\\u23F9\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-bold text-lg\",\n            children: \"Stop Recording\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm opacity-90\",\n            children: [recordingTime, \"s \\u2022 Saving to \", fileCounter, \".webm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 777,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute -top-3 -right-3 w-6 h-6 bg-red-300 rounded-full animate-ping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 770,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 7\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-lg max-w-5xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 900,\n        height: 140,\n        className: \"w-full border-2 border-gray-200 rounded-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 787,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-600 mt-4 flex items-center justify-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"animate-pulse text-2xl\",\n          children: \"\\uD83C\\uDFB5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-lg\",\n          children: [\"Recording for watchdog processing \\u2022 \", recordingTime, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm bg-gray-100 px-2 py-1 rounded\",\n          children: [selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name, \" \\u2192 \", fileCounter, \".webm\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 786,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4 max-w-6xl mx-auto\",\n      children: recordings.map((rec, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-6 bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all border-l-4 border-[#25D366]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-gradient-to-br from-[#25D366] to-[#075e54] rounded-full flex items-center justify-center flex-shrink-0 text-white text-3xl shadow-lg\",\n          children: \"\\uD83C\\uDFA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-4 py-2 rounded-full text-sm font-semibold bg-green-50 text-green-600\",\n              children: [\"Audio File #\", rec.fileNumber]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded font-medium\",\n              children: \"\\uD83E\\uDD16 Ready for Watchdog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u23F1\\uFE0F \", rec.duration, \"s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDCC1 \", formatFileSize(rec.size)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83C\\uDFB5 \", rec.format]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDCC2 \", rec.directory]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rec.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-400 mt-2 font-mono\",\n            children: [\"\\uD83D\\uDCF1 \", rec.filename, \" \\u2192 Your watchdog will process this to \", rec.fileNumber, \".ogg\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeRecording(index),\n            className: \"px-5 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg\",\n            children: \"\\uD83D\\uDDD1\\uFE0F Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 13\n        }, this)]\n      }, rec.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 7\n    }, this), recordings.length === 0 && !isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-gray-500 py-20 max-w-2xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-8xl mb-6\",\n        children: \"\\uD83C\\uDFA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-3xl font-bold mb-4\",\n        children: \"Clean Audio Recorder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg mb-3 flex items-center justify-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: getPlatformIcon(platformInfo.os)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"External watchdog integration for \", platformInfo.os]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 857,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 855,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-400\",\n        children: \"Records clean .webm files \\u2022 Your watchdog handles FFmpeg processing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 859,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 852,\n      columnNumber: 9\n    }, this), workingDirectory && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-green-50 via-blue-50 to-purple-50 border border-green-200 p-8 rounded-xl max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold text-xl text-green-800 mb-6 flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83E\\uDD16\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"External Watchdog Integration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 868,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 p-6 rounded-lg border border-green-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-green-700 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83C\\uDFA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Audio Recorder (This App)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 877,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 875,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2 text-sm text-green-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Creates:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 23\n              }, this), \" Numbered .webm files (1.webm, 2.webm, 3.webm...)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quality:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 881,\n                columnNumber: 23\n              }, this), \" High-quality \", selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name, \" at 320kbps\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Clean Output:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 882,\n                columnNumber: 23\n              }, this), \" Only .webm files, no scripts or temp files\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Persistent Counter:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 23\n              }, this), \" Remembers file numbering across sessions\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 874,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-6 rounded-lg border border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-blue-700 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Your Watchdog (External)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2 text-sm text-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Monitors:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 893,\n                columnNumber: 23\n              }, this), \" Directory for new .webm files\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Processes:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 23\n              }, this), \" FFmpeg conversion to WhatsApp-compatible .ogg\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Cleans:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 23\n              }, this), \" Deletes .webm files after successful processing\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Result:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 23\n              }, this), \" Clean directory with only .ogg files\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 896,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 border border-yellow-200 p-6 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-yellow-800 mb-4 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDD04\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Perfect Workflow Integration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 904,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-yellow-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid md:grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-medium mb-2\",\n                children: \"\\uD83D\\uDCDD Step 1: Record\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 909,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Use this app to record audio. Creates clean numbered .webm files in your directory.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-medium mb-2\",\n                children: \"\\u2699\\uFE0F Step 2: Process\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Your watchdog detects new .webm files and processes them with FFmpeg automatically.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 914,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-medium mb-2\",\n                children: \"\\uD83D\\uDCF1 Step 3: Use\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 917,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Upload the resulting .ogg files directly to WhatsApp. Perfect compatibility guaranteed.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 918,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 907,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-3 bg-yellow-100 rounded border border-yellow-300\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium text-yellow-800\",\n              children: [\"\\u2728 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Benefits:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 21\n              }, this), \" Clean separation of concerns \\u2022 No complex scripts \\u2022 Automated processing \\u2022 Minimal file clutter \\u2022 Professional audio quality\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 901,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 867,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 584,\n    columnNumber: 5\n  }, this);\n}\n_s(WhatsAppAudioRecorder, \"a7Zh/DE1XKNIq+i9x6L9263nI7U=\");\n_c = WhatsAppAudioRecorder;\nvar _c;\n$RefreshReg$(_c, \"WhatsAppAudioRecorder\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","WhatsAppAudioRecorder","_s","recordings","setRecordings","isRecording","setIsRecording","recordingTime","setRecordingTime","audioStream","setAudioStream","permissionStatus","setPermissionStatus","error","setError","workingDirectory","setWorkingDirectory","supportedFormats","setSupportedFormats","selectedFormat","setSelectedFormat","platformInfo","setPlatformInfo","os","setupStatus","setSetupStatus","isConfigured","directoryName","lastVerified","platformOS","fileCounter","setFileCounter","mediaRecorderRef","audioChunksRef","timerRef","audioContextRef","analyserRef","dataArrayRef","animationRef","canvasRef","streamRef","debugLog","message","data","console","log","STORAGE_KEYS","directory","counter","getNextFileNumber","savedCounter","localStorage","getItem","currentCounter","parseInt","nextCounter","setItem","toString","current","next","err","Date","now","resetFileCounter","saveDirectoryConfig","directoryHandle","config","version","JSON","stringify","loadDirectoryConfig","savedConfig","parse","weekAgo","clearDirectoryConfig","removeItem","detectPlatform","userAgent","navigator","toLowerCase","platform","includes","info","detectSupportedFormats","formats","mimeType","name","priority","supported","filter","format","MediaRecorder","isTypeSupported","sort","a","b","length","map","f","selected","setupWorkingDirectory","window","dirHandle","showDirectoryPicker","mode","startIn","readme","charAt","toUpperCase","slice","toLocaleString","readmeBlob","Blob","type","readmeHandle","getFileHandle","create","readmeWritable","createWritable","write","close","restoreWorkingDirectory","cached","checkAndRequestPermissions","testStream","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","autoGainControl","sampleRate","channelCount","getTracks","forEach","track","stop","cachedConfig","cleanup","_mediaRecorderRef$cur","_audioContextRef$curr","ref","clearInterval","cancelAnimationFrame","state","_mediaRecorderRef$cur2","e","_audioContextRef$curr2","setInterval","prev","drawWaveform","canvas","ctx","getContext","analyser","dataArray","draw","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","width","height","barWidth","x","i","barHeight","gradient","createLinearGradient","addColorStop","startRecording","granted","stream","latency","audioCtx","AudioContext","webkitAudioContext","resume","source","createMediaStreamSource","createAnalyser","fftSize","smoothingTimeConstant","connect","Uint8Array","frequencyBinCount","mediaRecorder","audioBitsPerSecond","onstart","ondataavailable","event","_event$data","size","push","onstop","rawBlob","fileNumber","saveAudioFile","onerror","_event$error","start","stopRecording","_mediaRecorderRef$cur3","setTimeout","blob","Error","filename","fileHandle","writable","recording","id","duration","timestamp","toLocaleTimeString","status","watchdogReady","removeRecording","index","_","formatFileSize","bytes","k","sizes","Math","floor","parseFloat","pow","toFixed","getPlatformIcon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","join","onClick","title","toLocaleDateString","disabled","rec","_c","$RefreshReg$"],"sources":["/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\n\nexport default function WhatsAppAudioRecorder() {\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const [permissionStatus, setPermissionStatus] = useState('checking');\n  const [error, setError] = useState(null);\n  const [workingDirectory, setWorkingDirectory] = useState(null);\n  const [supportedFormats, setSupportedFormats] = useState([]);\n  const [selectedFormat, setSelectedFormat] = useState(null);\n  const [platformInfo, setPlatformInfo] = useState({ os: 'unknown' });\n  const [setupStatus, setSetupStatus] = useState({\n    isConfigured: false,\n    directoryName: null,\n    lastVerified: null,\n    platformOS: null\n  });\n  const [fileCounter, setFileCounter] = useState(1);\n  \n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n\n  const debugLog = (message, data = null) => {\n    console.log(`🎤 ${message}`, data);\n  };\n\n  // STRATEGIC: Simplified persistent state management\n  const STORAGE_KEYS = {\n    directory: 'whatsapp-audio-studio-directory-config',\n    counter: 'whatsapp-audio-studio-file-counter'\n  };\n\n  const getNextFileNumber = () => {\n    try {\n      const savedCounter = localStorage.getItem(STORAGE_KEYS.counter);\n      const currentCounter = savedCounter ? parseInt(savedCounter, 10) : 1;\n      const nextCounter = currentCounter;\n      \n      localStorage.setItem(STORAGE_KEYS.counter, (currentCounter + 1).toString());\n      setFileCounter(nextCounter);\n      debugLog('📊 File counter', { current: nextCounter, next: currentCounter + 1 });\n      return nextCounter;\n    } catch (err) {\n      debugLog('⚠️ Counter management failed, using fallback', err.message);\n      return Date.now();\n    }\n  };\n\n  const resetFileCounter = () => {\n    try {\n      localStorage.setItem(STORAGE_KEYS.counter, '1');\n      setFileCounter(1);\n      debugLog('🔄 File counter reset to 1');\n    } catch (err) {\n      debugLog('⚠️ Failed to reset counter', err.message);\n    }\n  };\n\n  const saveDirectoryConfig = (directoryHandle, directoryName) => {\n    try {\n      const config = {\n        isConfigured: true,\n        directoryName: directoryName,\n        lastVerified: Date.now(),\n        platformOS: platformInfo.os,\n        version: '2.0'\n      };\n      localStorage.setItem(STORAGE_KEYS.directory, JSON.stringify(config));\n      setSetupStatus(config);\n      debugLog('✅ Directory config saved', config);\n    } catch (err) {\n      debugLog('⚠️ Failed to save directory config', err.message);\n    }\n  };\n\n  const loadDirectoryConfig = () => {\n    try {\n      const savedConfig = localStorage.getItem(STORAGE_KEYS.directory);\n      if (savedConfig) {\n        const config = JSON.parse(savedConfig);\n        const weekAgo = Date.now() - (7 * 24 * 60 * 60 * 1000);\n        \n        if (config.lastVerified > weekAgo && config.platformOS === platformInfo.os) {\n          setSetupStatus(config);\n          debugLog('✅ Directory config restored', config);\n          return config;\n        } else {\n          debugLog('⚠️ Directory config expired or platform changed');\n          clearDirectoryConfig();\n        }\n      }\n    } catch (err) {\n      debugLog('⚠️ Failed to load directory config', err.message);\n      clearDirectoryConfig();\n    }\n    return null;\n  };\n\n  const clearDirectoryConfig = () => {\n    try {\n      localStorage.removeItem(STORAGE_KEYS.directory);\n      setSetupStatus({\n        isConfigured: false,\n        directoryName: null,\n        lastVerified: null,\n        platformOS: null\n      });\n      debugLog('🧹 Directory config cleared');\n    } catch (err) {\n      debugLog('⚠️ Failed to clear directory config', err.message);\n    }\n  };\n\n  const detectPlatform = () => {\n    const userAgent = navigator.userAgent.toLowerCase();\n    const platform = navigator.platform.toLowerCase();\n    \n    let os = 'linux';\n    if (platform.includes('win') || userAgent.includes('windows')) {\n      os = 'windows';\n    } else if (platform.includes('mac') || userAgent.includes('mac')) {\n      os = 'macos';\n    }\n    \n    const info = { os };\n    setPlatformInfo(info);\n    debugLog('✅ Platform detected', info);\n    return info;\n  };\n\n  const detectSupportedFormats = () => {\n    const formats = [\n      { mimeType: 'audio/webm; codecs=opus', name: 'WebM Opus', priority: 1 },\n      { mimeType: 'audio/webm', name: 'WebM', priority: 2 },\n      { mimeType: 'audio/ogg; codecs=opus', name: 'OGG Opus', priority: 3 },\n      { mimeType: 'audio/ogg', name: 'OGG', priority: 4 },\n      { mimeType: 'audio/mp4', name: 'MP4', priority: 5 }\n    ];\n\n    const supported = formats.filter(format => \n      MediaRecorder.isTypeSupported(format.mimeType)\n    ).sort((a, b) => a.priority - b.priority);\n\n    setSupportedFormats(supported);\n    \n    if (supported.length > 0) {\n      setSelectedFormat(supported[0]);\n      debugLog('✅ Audio formats detected', {\n        supported: supported.map(f => f.name),\n        selected: supported[0].name\n      });\n    } else {\n      setError('No supported audio recording formats found');\n      debugLog('❌ No MediaRecorder support detected');\n    }\n\n    return supported;\n  };\n\n  // STRATEGIC: Simplified directory setup for watchdog integration\n  const setupWorkingDirectory = async () => {\n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'downloads'\n        });\n        setWorkingDirectory(dirHandle);\n        \n        const platform = detectPlatform();\n        \n        // Create simple README for watchdog setup\n        const readme = `# WhatsApp Audio Studio - Watchdog Integration\n\n## ✅ Directory Setup Complete\n**Directory:** ${dirHandle.name}  \n**Platform:** ${platform.os.charAt(0).toUpperCase() + platform.os.slice(1)}  \n**Setup Date:** ${new Date().toLocaleString()}  \n**Mode:** External FFmpeg Watchdog Integration  \n\n## How it works:\n1. Record audio in the web app\n2. App creates numbered .webm files (1.webm, 2.webm, 3.webm...)\n3. Your external watchdog processes these files with FFmpeg\n4. Watchdog creates WhatsApp-compatible .ogg files\n5. Watchdog cleans up .webm files after processing\n\n## File Pattern:\n- **Input:** 1.webm, 2.webm, 3.webm, ... (created by web app)\n- **Output:** 1.ogg, 2.ogg, 3.ogg, ... (created by your watchdog)\n- **Clean:** Only .ogg files remain after processing\n\n## Watchdog Integration Notes:\n- App only creates .webm files with simple numbered names\n- No scripts or temporary files generated by the app\n- Clean directory structure maintained by external watchdog\n- Perfect for automated FFmpeg processing workflows\n\n## WhatsApp Compatibility:\n✅ Voice messages: Your watchdog creates .ogg files optimized for WhatsApp  \n✅ Professional quality: External FFmpeg ensures perfect compatibility  \n✅ Clean workflow: Automated processing with minimal file clutter  \n\n## Counter Management:\n🔢 **File Counter:** Persisted across browser sessions  \n🔄 **Reset Option:** Available in app to restart from 1  \n🧠 **Smart Caching:** Directory setting remembered for 7 days  \n\nPerfect integration with external automation tools!`;\n\n        const readmeBlob = new Blob([readme], { type: 'text/plain' });\n        const readmeHandle = await dirHandle.getFileHandle('README.md', { create: true });\n        const readmeWritable = await readmeHandle.createWritable();\n        await readmeWritable.write(readmeBlob);\n        await readmeWritable.close();\n        \n        // Save configuration\n        saveDirectoryConfig(dirHandle, dirHandle.name);\n        \n        debugLog('✅ Simplified directory setup complete', {\n          platform: platform.os,\n          directory: dirHandle.name,\n          mode: 'watchdog-integration'\n        });\n        \n        return true;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('⚠️ Directory setup declined', err.message);\n        setError('Directory access required for audio output');\n      }\n      return false;\n    }\n  };\n\n  const restoreWorkingDirectory = async () => {\n    if (!setupStatus.isConfigured) return false;\n    \n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'downloads'\n        });\n        \n        setWorkingDirectory(dirHandle);\n        saveDirectoryConfig(dirHandle, dirHandle.name);\n        \n        debugLog('✅ Working directory restored', {\n          directory: dirHandle.name,\n          cached: true\n        });\n        \n        return true;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('⚠️ Failed to restore working directory', err.message);\n      }\n    }\n    return false;\n  };\n\n  const checkAndRequestPermissions = async () => {\n    try {\n      setPermissionStatus('checking');\n      \n      const testStream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2,\n        } \n      });\n      \n      debugLog('✅ Microphone access granted');\n      testStream.getTracks().forEach(track => track.stop());\n      setPermissionStatus('granted');\n      \n      // Initialize after permission granted\n      detectSupportedFormats();\n      const platform = detectPlatform();\n      \n      // Load cached directory configuration\n      const cachedConfig = loadDirectoryConfig();\n      if (cachedConfig && cachedConfig.isConfigured) {\n        debugLog('🧠 Directory configuration remembered', {\n          directory: cachedConfig.directoryName,\n          platform: cachedConfig.platformOS\n        });\n      }\n      \n      return true;\n      \n    } catch (err) {\n      debugLog('❌ Permissions denied', err.message);\n      setPermissionStatus('denied');\n      setError(`Microphone required: ${err.message}`);\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    checkAndRequestPermissions();\n  }, []);\n\n  const cleanup = useCallback(() => {\n    [timerRef, animationRef].forEach(ref => {\n      if (ref.current) {\n        ref === timerRef ? clearInterval(ref.current) : cancelAnimationFrame(ref.current);\n        ref.current = null;\n      }\n    });\n    \n    if (mediaRecorderRef.current?.state !== 'inactive') {\n      try {\n        mediaRecorderRef.current?.stop();\n      } catch (e) {\n        debugLog('⚠️ MediaRecorder cleanup', e.message);\n      }\n      mediaRecorderRef.current = null;\n    }\n    \n    if (audioContextRef.current?.state !== 'closed') {\n      audioContextRef.current?.close();\n      audioContextRef.current = null;\n    }\n    \n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n      setAudioStream(null);\n    }\n    \n    setIsRecording(false);\n    setRecordingTime(0);\n  }, []);\n\n  useEffect(() => cleanup, [cleanup]);\n\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => setRecordingTime(prev => prev + 1), 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setRecordingTime(0);\n    }\n    return () => timerRef.current && clearInterval(timerRef.current);\n  }, [isRecording]);\n\n  const drawWaveform = useCallback(() => {\n    if (!canvasRef.current || !analyserRef.current || !isRecording) return;\n    \n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n\n    const draw = () => {\n      if (!isRecording) return;\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteFrequencyData(dataArray);\n\n      ctx.fillStyle = \"#f0f2f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      \n      const barWidth = (canvas.width / dataArray.length) * 2.5;\n      let x = 0;\n\n      for (let i = 0; i < dataArray.length; i++) {\n        const barHeight = (dataArray[i] / 255) * canvas.height * 0.9;\n        const gradient = ctx.createLinearGradient(0, canvas.height - barHeight, 0, canvas.height);\n        gradient.addColorStop(0, '#25D366');\n        gradient.addColorStop(0.5, '#128C7E');\n        gradient.addColorStop(1, '#0d7377');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, canvas.height - barHeight, barWidth - 1, barHeight);\n        x += barWidth;\n      }\n    };\n    draw();\n  }, [isRecording]);\n\n  // STRATEGIC: Pure audio recording with clean file output\n  const startRecording = async () => {\n    try {\n      debugLog('🎬 Starting clean audio recording...');\n      setError(null);\n      cleanup();\n      \n      if (permissionStatus !== 'granted') {\n        const granted = await checkAndRequestPermissions();\n        if (!granted) return;\n      }\n\n      if (!selectedFormat) {\n        setError('No supported recording format available');\n        return;\n      }\n\n      if (!workingDirectory) {\n        setError('Working directory required - please setup directory first');\n        return;\n      }\n\n      // High-quality audio recording\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2,\n          latency: 0.01\n        }\n      });\n      \n      streamRef.current = stream;\n      setAudioStream(stream);\n\n      // Audio visualization\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      if (audioCtx.state === 'suspended') await audioCtx.resume();\n      \n      const source = audioCtx.createMediaStreamSource(stream);\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 512;\n      analyser.smoothingTimeConstant = 0.3;\n      source.connect(analyser);\n      \n      audioContextRef.current = audioCtx;\n      analyserRef.current = analyser;\n      dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\n\n      // Use best supported format\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: selectedFormat.mimeType,\n        audioBitsPerSecond: 320000 // High quality for external processing\n      });\n\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.onstart = () => {\n        debugLog('🎬 Recording started', { \n          format: selectedFormat.name,\n          platform: platformInfo.os\n        });\n        setIsRecording(true);\n        drawWaveform();\n      };\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data?.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        debugLog('⏹️ Saving recorded audio...');\n        \n        if (audioChunksRef.current.length > 0) {\n          const rawBlob = new Blob(audioChunksRef.current, { \n            type: selectedFormat.mimeType \n          });\n          \n          try {\n            const fileNumber = getNextFileNumber();\n            await saveAudioFile(rawBlob, fileNumber);\n            \n          } catch (err) {\n            debugLog('⚠️ Save failed', err.message);\n            setError(`Failed to save audio: ${err.message}`);\n          }\n        } else {\n          setError('No audio data captured');\n        }\n        \n        audioChunksRef.current = [];\n      };\n\n      mediaRecorder.onerror = (event) => {\n        debugLog('❌ Recording error', event.error);\n        setError(`Recording failed: ${event.error?.message}`);\n        cleanup();\n      };\n\n      mediaRecorder.start(50);\n      \n    } catch (err) {\n      debugLog('💥 Recording failed', err);\n      setError(`Failed to start: ${err.message}`);\n      cleanup();\n    }\n  };\n\n  const stopRecording = () => {\n    debugLog('⏹️ Stopping recording...');\n    if (mediaRecorderRef.current?.state === 'recording') {\n      mediaRecorderRef.current.stop();\n    }\n    setIsRecording(false);\n    setTimeout(cleanup, 1000);\n  };\n\n  // STRATEGIC: Clean file saving for watchdog processing\n  const saveAudioFile = async (blob, fileNumber) => {\n    if (!workingDirectory) {\n      throw new Error('Working directory not available');\n    }\n\n    try {\n      const filename = `${fileNumber}.webm`;\n      \n      // Write WebM file directly\n      const fileHandle = await workingDirectory.getFileHandle(filename, { create: true });\n      const writable = await fileHandle.createWritable();\n      await writable.write(blob);\n      await writable.close();\n\n      // Create recording entry for UI\n      const recording = {\n        id: Date.now(),\n        filename,\n        fileNumber,\n        duration: recordingTime,\n        timestamp: new Date().toLocaleTimeString(),\n        size: blob.size,\n        format: selectedFormat.name,\n        directory: workingDirectory.name,\n        status: 'ready-for-watchdog'\n      };\n      \n      setRecordings(prev => [...prev, recording]);\n      debugLog(`✅ Audio file saved: ${filename}`, { \n        size: blob.size, \n        format: selectedFormat.name,\n        watchdogReady: true\n      });\n      \n    } catch (err) {\n      debugLog('❌ File save failed', err.message);\n      throw err;\n    }\n  };\n\n  const removeRecording = (index) => {\n    setRecordings(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const formatFileSize = (bytes) => {\n    if (!bytes) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  const getPlatformIcon = (os) => {\n    switch (os) {\n      case 'windows': return '🪟';\n      case 'macos': return '🍎';\n      case 'linux': return '🐧';\n      default: return '💻';\n    }\n  };\n\n  return (\n    <div className=\"bg-[#ece5dd] min-h-screen p-4 space-y-4\">\n      {/* Clean header for watchdog mode */}\n      <div className=\"bg-gradient-to-r from-[#075e54] via-[#128C7E] to-[#25D366] text-white p-6 rounded-lg shadow-xl\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\">\n              <span className=\"text-2xl\">🎤</span>\n            </div>\n            <div>\n              <h1 className=\"text-2xl font-bold\">WhatsApp Audio Studio</h1>\n              <p className=\"text-sm opacity-90\">Pure audio recorder + External FFmpeg watchdog integration</p>\n            </div>\n          </div>\n          <div className=\"text-right text-sm\">\n            <div className=\"font-medium\">\n              {permissionStatus === 'granted' ? '✅ Ready' : \n               permissionStatus === 'denied' ? '❌ Access Required' : '⏳ Initializing...'}\n            </div>\n            <div className=\"opacity-75 flex items-center space-x-2\">\n              <span>{getPlatformIcon(platformInfo.os)}</span>\n              <span>{platformInfo.os} • {selectedFormat?.name || 'Detecting...'}</span>\n            </div>\n            {workingDirectory && (\n              <div className=\"text-xs opacity-75\">📁 {workingDirectory.name}</div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Platform & directory status */}\n      <div className=\"bg-blue-50 border border-blue-200 p-4 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h3 className=\"font-semibold text-blue-800 flex items-center space-x-2\">\n              <span>{getPlatformIcon(platformInfo.os)}</span>\n              <span>Platform: {platformInfo.os.charAt(0).toUpperCase() + platformInfo.os.slice(1)}</span>\n              {workingDirectory && (\n                <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium\">\n                  ✅ Watchdog Ready\n                </span>\n              )}\n            </h3>\n            <p className=\"text-sm text-blue-600\">\n              Audio: {supportedFormats.map(f => f.name).join(', ')} • \n              Using: <strong>{selectedFormat?.name}</strong>\n              {workingDirectory && (\n                <span className=\"ml-2 text-green-600\">\n                  • Directory: <strong>{workingDirectory.name}</strong>\n                </span>\n              )}\n            </p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"text-blue-600 text-sm flex items-center space-x-4\">\n              <span>{supportedFormats.length} format{supportedFormats.length !== 1 ? 's' : ''} supported</span>\n              <span className=\"text-gray-600\">Next file: <strong>{fileCounter}</strong></span>\n              {workingDirectory && setupStatus.isConfigured && (\n                <div className=\"flex items-center space-x-1 text-green-600\">\n                  <span>🧠</span>\n                  <span className=\"text-xs\">Cached</span>\n                </div>\n              )}\n            </div>\n            <button\n              onClick={resetFileCounter}\n              className=\"px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded text-xs transition-colors\"\n              title=\"Reset file counter to 1\"\n            >\n              🔄 Reset Counter\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Directory setup */}\n      {!workingDirectory && (\n        <div className={`border p-6 rounded-lg ${\n          setupStatus.isConfigured \n            ? 'bg-blue-50 border-blue-200' \n            : 'bg-amber-50 border-amber-200'\n        }`}>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <span className=\"text-3xl\">\n                {setupStatus.isConfigured ? '🧠' : '📁'}\n              </span>\n              <div>\n                {setupStatus.isConfigured ? (\n                  <>\n                    <h3 className=\"font-bold text-blue-800 flex items-center space-x-2\">\n                      <span>Directory Configuration Remembered</span>\n                      <span>{getPlatformIcon(platformInfo.os)}</span>\n                    </h3>\n                    <p className=\"text-sm text-blue-600\">\n                      Previous setup: <strong>{setupStatus.directoryName}</strong> • \n                      Last used: {new Date(setupStatus.lastVerified).toLocaleDateString()}\n                    </p>\n                    <p className=\"text-xs text-blue-500 mt-1\">\n                      Click \"Restore Access\" to continue using your configured directory\n                    </p>\n                  </>\n                ) : (\n                  <>\n                    <h3 className=\"font-bold text-amber-800 flex items-center space-x-2\">\n                      <span>Working Directory Required</span>\n                      <span>{getPlatformIcon(platformInfo.os)}</span>\n                    </h3>\n                    <p className=\"text-sm text-amber-600\">\n                      Select directory where .webm files will be saved for your watchdog\n                    </p>\n                    <p className=\"text-xs text-amber-500 mt-1\">\n                      App creates numbered .webm files, your watchdog processes them\n                    </p>\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"flex space-x-3\">\n              {setupStatus.isConfigured ? (\n                <>\n                  <button\n                    onClick={restoreWorkingDirectory}\n                    className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-md\"\n                  >\n                    🔄 Restore Access\n                  </button>\n                  <button\n                    onClick={() => {\n                      clearDirectoryConfig();\n                      setWorkingDirectory(null);\n                    }}\n                    className=\"px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors\"\n                    title=\"Clear cached configuration\"\n                  >\n                    🧹 Reset\n                  </button>\n                </>\n              ) : (\n                <button\n                  onClick={setupWorkingDirectory}\n                  className=\"px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors shadow-md\"\n                >\n                  Setup Working Directory\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Error display */}\n      {error && (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 rounded flex justify-between items-start\">\n          <span className=\"text-red-700\">{error}</span>\n          <button \n            onClick={() => setError(null)}\n            className=\"text-red-400 hover:text-red-600 font-bold text-xl ml-4\"\n          >\n            ×\n          </button>\n        </div>\n      )}\n\n      {/* Recording controls */}\n      <div className=\"flex justify-center\">\n        {!isRecording ? (\n          <button\n            onClick={startRecording}\n            disabled={permissionStatus !== 'granted' || !selectedFormat || !workingDirectory}\n            className={`flex items-center space-x-4 px-10 py-5 rounded-full shadow-2xl transition-all transform hover:scale-105 ${\n              permissionStatus !== 'granted' || !selectedFormat || !workingDirectory\n                ? 'bg-gray-300 text-gray-500 cursor-not-allowed' \n                : 'bg-gradient-to-r from-[#25D366] via-[#128C7E] to-[#075e54] hover:from-[#128C7E] hover:to-[#075e54] text-white'\n            }`}\n          >\n            <span className=\"text-3xl\">🎤</span>\n            <div>\n              <div className=\"font-bold text-lg\">Start Recording</div>\n              <div className=\"text-sm opacity-90\">\n                {selectedFormat && workingDirectory ? \n                  `${selectedFormat.name} • File: ${fileCounter}.webm` : \n                  'Setup required...'}\n              </div>\n            </div>\n          </button>\n        ) : (\n          <button\n            onClick={stopRecording}\n            className=\"flex items-center space-x-4 bg-red-500 hover:bg-red-600 text-white px-10 py-5 rounded-full shadow-2xl relative transition-all transform hover:scale-105\"\n          >\n            <span className=\"text-3xl\">⏹️</span>\n            <div>\n              <div className=\"font-bold text-lg\">Stop Recording</div>\n              <div className=\"text-sm opacity-90\">{recordingTime}s • Saving to {fileCounter}.webm</div>\n            </div>\n            <span className=\"absolute -top-3 -right-3 w-6 h-6 bg-red-300 rounded-full animate-ping\"></span>\n          </button>\n        )}\n      </div>\n\n      {/* Waveform visualization */}\n      {isRecording && (\n        <div className=\"bg-white p-6 rounded-xl shadow-lg max-w-5xl mx-auto\">\n          <canvas\n            ref={canvasRef}\n            width={900}\n            height={140}\n            className=\"w-full border-2 border-gray-200 rounded-lg\"\n          />\n          <div className=\"text-center text-gray-600 mt-4 flex items-center justify-center space-x-3\">\n            <span className=\"animate-pulse text-2xl\">🎵</span>\n            <span className=\"font-semibold text-lg\">Recording for watchdog processing • {recordingTime}s</span>\n            <span className=\"text-sm bg-gray-100 px-2 py-1 rounded\">\n              {selectedFormat?.name} → {fileCounter}.webm\n            </span>\n          </div>\n        </div>\n      )}\n\n      {/* Recordings list */}\n      <div className=\"grid gap-4 max-w-6xl mx-auto\">\n        {recordings.map((rec, index) => (\n          <div\n            key={rec.id}\n            className=\"flex items-center space-x-6 bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all border-l-4 border-[#25D366]\"\n          >\n            <div className=\"w-16 h-16 bg-gradient-to-br from-[#25D366] to-[#075e54] rounded-full flex items-center justify-center flex-shrink-0 text-white text-3xl shadow-lg\">\n              🎤\n            </div>\n            \n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center space-x-3 mb-3\">\n                <span className=\"px-4 py-2 rounded-full text-sm font-semibold bg-green-50 text-green-600\">\n                  Audio File #{rec.fileNumber}\n                </span>\n                <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded font-medium\">\n                  🤖 Ready for Watchdog\n                </span>\n              </div>\n              \n              <div className=\"flex justify-between items-center text-sm text-gray-600\">\n                <div className=\"flex items-center space-x-4\">\n                  <span>⏱️ {rec.duration}s</span>\n                  <span>📁 {formatFileSize(rec.size)}</span>\n                  <span>🎵 {rec.format}</span>\n                  <span>📂 {rec.directory}</span>\n                </div>\n                <span>{rec.timestamp}</span>\n              </div>\n              \n              <div className=\"text-xs text-gray-400 mt-2 font-mono\">\n                📱 {rec.filename} → Your watchdog will process this to {rec.fileNumber}.ogg\n              </div>\n            </div>\n\n            <div className=\"flex space-x-3 flex-shrink-0\">\n              <button\n                onClick={() => removeRecording(index)}\n                className=\"px-5 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg\"\n              >\n                🗑️ Remove\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {recordings.length === 0 && !isRecording && (\n        <div className=\"text-center text-gray-500 py-20 max-w-2xl mx-auto\">\n          <div className=\"text-8xl mb-6\">🎤</div>\n          <h3 className=\"text-3xl font-bold mb-4\">Clean Audio Recorder</h3>\n          <p className=\"text-lg mb-3 flex items-center justify-center space-x-2\">\n            <span>{getPlatformIcon(platformInfo.os)}</span>\n            <span>External watchdog integration for {platformInfo.os}</span>\n          </p>\n          <p className=\"text-sm text-gray-400\">\n            Records clean .webm files • Your watchdog handles FFmpeg processing\n          </p>\n        </div>\n      )}\n\n      {/* Watchdog integration guide */}\n      {workingDirectory && (\n        <div className=\"bg-gradient-to-r from-green-50 via-blue-50 to-purple-50 border border-green-200 p-8 rounded-xl max-w-6xl mx-auto\">\n          <h3 className=\"font-bold text-xl text-green-800 mb-6 flex items-center space-x-3\">\n            <span>🤖</span>\n            <span>External Watchdog Integration</span>\n          </h3>\n          \n          <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\n            <div className=\"bg-green-50 p-6 rounded-lg border border-green-200\">\n              <h4 className=\"font-semibold text-green-700 mb-4 flex items-center space-x-2\">\n                <span>🎤</span>\n                <span>Audio Recorder (This App)</span>\n              </h4>\n              <ul className=\"space-y-2 text-sm text-green-600\">\n                <li>• <strong>Creates:</strong> Numbered .webm files (1.webm, 2.webm, 3.webm...)</li>\n                <li>• <strong>Quality:</strong> High-quality {selectedFormat?.name} at 320kbps</li>\n                <li>• <strong>Clean Output:</strong> Only .webm files, no scripts or temp files</li>\n                <li>• <strong>Persistent Counter:</strong> Remembers file numbering across sessions</li>\n              </ul>\n            </div>\n            \n            <div className=\"bg-blue-50 p-6 rounded-lg border border-blue-200\">\n              <h4 className=\"font-semibold text-blue-700 mb-4 flex items-center space-x-2\">\n                <span>🤖</span>\n                <span>Your Watchdog (External)</span>\n              </h4>\n              <ul className=\"space-y-2 text-sm text-blue-600\">\n                <li>• <strong>Monitors:</strong> Directory for new .webm files</li>\n                <li>• <strong>Processes:</strong> FFmpeg conversion to WhatsApp-compatible .ogg</li>\n                <li>• <strong>Cleans:</strong> Deletes .webm files after successful processing</li>\n                <li>• <strong>Result:</strong> Clean directory with only .ogg files</li>\n              </ul>\n            </div>\n          </div>\n          \n          <div className=\"bg-yellow-50 border border-yellow-200 p-6 rounded-lg\">\n            <h4 className=\"font-semibold text-yellow-800 mb-4 flex items-center space-x-2\">\n              <span>🔄</span>\n              <span>Perfect Workflow Integration</span>\n            </h4>\n            <div className=\"text-sm text-yellow-700\">\n              <div className=\"grid md:grid-cols-3 gap-4\">\n                <div>\n                  <h5 className=\"font-medium mb-2\">📝 Step 1: Record</h5>\n                  <p>Use this app to record audio. Creates clean numbered .webm files in your directory.</p>\n                </div>\n                <div>\n                  <h5 className=\"font-medium mb-2\">⚙️ Step 2: Process</h5>\n                  <p>Your watchdog detects new .webm files and processes them with FFmpeg automatically.</p>\n                </div>\n                <div>\n                  <h5 className=\"font-medium mb-2\">📱 Step 3: Use</h5>\n                  <p>Upload the resulting .ogg files directly to WhatsApp. Perfect compatibility guaranteed.</p>\n                </div>\n              </div>\n              <div className=\"mt-4 p-3 bg-yellow-100 rounded border border-yellow-300\">\n                <p className=\"font-medium text-yellow-800\">\n                  ✨ <strong>Benefits:</strong> Clean separation of concerns • No complex scripts • \n                  Automated processing • Minimal file clutter • Professional audio quality\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}