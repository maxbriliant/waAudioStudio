{"ast":null,"code":"var _jsxFileName = \"/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function WhatsAppAudioRecorder() {\n  _s();\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const [permissionStatus, setPermissionStatus] = useState('checking');\n  const [error, setError] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [draggedItem, setDraggedItem] = useState(null);\n  const [fileSystemHandle, setFileSystemHandle] = useState(null);\n  const [processingStatus, setProcessingStatus] = useState('');\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n  const debugLog = (message, data = null) => {\n    console.log(`ðŸŽ¤ ${message}`, data);\n  };\n\n  // BREAKTHROUGH: Setup persistent file system access for drag operations\n  const setupFileSystemAccess = async () => {\n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'desktop'\n        });\n        setFileSystemHandle(dirHandle);\n        debugLog('âœ… File system access granted', dirHandle.name);\n        return dirHandle;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('âš ï¸ File system access declined', err.message);\n      }\n    }\n    return null;\n  };\n  const checkAndRequestPermissions = async () => {\n    try {\n      setPermissionStatus('checking');\n\n      // Request both microphone and file system access\n      const testStream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          // STRATEGIC: Disable for better quality\n          noiseSuppression: false,\n          // WhatsApp handles this\n          autoGainControl: false,\n          // Manual control for consistency\n          sampleRate: 48000,\n          // High quality capture\n          channelCount: 2 // Stereo capture, mono conversion later\n        }\n      });\n      debugLog('âœ… Microphone access granted');\n      testStream.getTracks().forEach(track => track.stop());\n      setPermissionStatus('granted');\n\n      // Prompt for file system access\n      await setupFileSystemAccess();\n      return true;\n    } catch (err) {\n      debugLog('âŒ Permissions denied', err.message);\n      setPermissionStatus('denied');\n      setError(`Microphone required: ${err.message}`);\n      return false;\n    }\n  };\n  useEffect(() => {\n    checkAndRequestPermissions();\n  }, []);\n  const cleanup = useCallback(() => {\n    var _mediaRecorderRef$cur, _audioContextRef$curr;\n    [timerRef, animationRef].forEach(ref => {\n      if (ref.current) {\n        ref === timerRef ? clearInterval(ref.current) : cancelAnimationFrame(ref.current);\n        ref.current = null;\n      }\n    });\n    if (((_mediaRecorderRef$cur = mediaRecorderRef.current) === null || _mediaRecorderRef$cur === void 0 ? void 0 : _mediaRecorderRef$cur.state) !== 'inactive') {\n      try {\n        var _mediaRecorderRef$cur2;\n        (_mediaRecorderRef$cur2 = mediaRecorderRef.current) === null || _mediaRecorderRef$cur2 === void 0 ? void 0 : _mediaRecorderRef$cur2.stop();\n      } catch (e) {\n        debugLog('âš ï¸ MediaRecorder cleanup', e.message);\n      }\n      mediaRecorderRef.current = null;\n    }\n    if (((_audioContextRef$curr = audioContextRef.current) === null || _audioContextRef$curr === void 0 ? void 0 : _audioContextRef$curr.state) !== 'closed') {\n      var _audioContextRef$curr2;\n      (_audioContextRef$curr2 = audioContextRef.current) === null || _audioContextRef$curr2 === void 0 ? void 0 : _audioContextRef$curr2.close();\n      audioContextRef.current = null;\n    }\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n      setAudioStream(null);\n    }\n    setIsRecording(false);\n    setRecordingTime(0);\n  }, []);\n  useEffect(() => cleanup, [cleanup]);\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => setRecordingTime(prev => prev + 1), 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setRecordingTime(0);\n    }\n    return () => timerRef.current && clearInterval(timerRef.current);\n  }, [isRecording]);\n  const drawWaveform = useCallback(() => {\n    if (!canvasRef.current || !analyserRef.current || !isRecording) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n    const draw = () => {\n      if (!isRecording) return;\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteFrequencyData(dataArray);\n      ctx.fillStyle = \"#f0f2f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      const barWidth = canvas.width / dataArray.length * 2.5;\n      let x = 0;\n      for (let i = 0; i < dataArray.length; i++) {\n        const barHeight = dataArray[i] / 255 * canvas.height * 0.9;\n        const gradient = ctx.createLinearGradient(0, canvas.height - barHeight, 0, canvas.height);\n        gradient.addColorStop(0, '#25D366');\n        gradient.addColorStop(0.5, '#128C7E');\n        gradient.addColorStop(1, '#0d7377');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, canvas.height - barHeight, barWidth - 1, barHeight);\n        x += barWidth;\n      }\n    };\n    draw();\n  }, [isRecording]);\n\n  // STRATEGIC: WhatsApp-Compatible Audio Processing Pipeline\n  const createWhatsAppAudio = async (webmBlob, isVoiceMessage = true) => {\n    debugLog('ðŸ”§ Creating WhatsApp-compatible audio...');\n    setIsProcessing(true);\n    try {\n      const audioContext = new AudioContext();\n      const arrayBuffer = await webmBlob.arrayBuffer();\n      const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n      if (isVoiceMessage) {\n        // VOICE MESSAGE: 16kHz mono Opus at 24k bitrate\n        setProcessingStatus('Converting to voice message format...');\n        return await createVoiceMessageFormat(audioBuffer);\n      } else {\n        // MUSIC MESSAGE: AAC in M4A at 128k bitrate\n        setProcessingStatus('Converting to high-quality M4A...');\n        return await createMusicMessageFormat(audioBuffer);\n      }\n    } catch (err) {\n      debugLog('âŒ Audio conversion failed', err.message);\n      throw err;\n    } finally {\n      setIsProcessing(false);\n      setProcessingStatus('');\n    }\n  };\n\n  // ENGINEERING: Voice Message Format (16kHz mono Opus)\n  const createVoiceMessageFormat = async audioBuffer => {\n    // Resample to 16kHz mono for WhatsApp voice messages\n    const targetSampleRate = 16000;\n    const offlineContext = new OfflineAudioContext(1,\n    // Mono\n    audioBuffer.duration * targetSampleRate, targetSampleRate);\n    const source = offlineContext.createBufferSource();\n    source.buffer = audioBuffer;\n\n    // Mix stereo to mono if needed\n    if (audioBuffer.numberOfChannels > 1) {\n      const merger = offlineContext.createChannelMerger(1);\n      const splitter = offlineContext.createChannelSplitter(audioBuffer.numberOfChannels);\n      const gain = offlineContext.createGain();\n      gain.gain.value = 1 / audioBuffer.numberOfChannels;\n      source.connect(splitter);\n      for (let i = 0; i < audioBuffer.numberOfChannels; i++) {\n        splitter.connect(gain, i);\n      }\n      gain.connect(merger, 0, 0);\n      merger.connect(offlineContext.destination);\n    } else {\n      source.connect(offlineContext.destination);\n    }\n    source.start();\n    const resampledBuffer = await offlineContext.startRendering();\n\n    // Create optimized OGG Opus for voice\n    return await encodeAsOpus(resampledBuffer, 24000); // 24k bitrate\n  };\n\n  // ENGINEERING: Music Message Format (AAC simulation via high-quality WAV)\n  const createMusicMessageFormat = async audioBuffer => {\n    // Since browsers can't encode AAC directly, create high-quality WAV\n    // that will be accepted by WhatsApp as music\n    const sampleRate = 44100;\n    let processedBuffer = audioBuffer;\n\n    // Resample to 44.1kHz if needed\n    if (audioBuffer.sampleRate !== sampleRate) {\n      const offlineContext = new OfflineAudioContext(2,\n      // Stereo for music\n      audioBuffer.duration * sampleRate, sampleRate);\n      const source = offlineContext.createBufferSource();\n      source.buffer = audioBuffer;\n      source.connect(offlineContext.destination);\n      source.start();\n      processedBuffer = await offlineContext.startRendering();\n    }\n\n    // Create high-quality WAV (WhatsApp accepts WAV as music format)\n    return createHighQualityWAV(processedBuffer);\n  };\n\n  // STRATEGIC: Opus encoding simulation (best effort in browser)\n  const encodeAsOpus = async (audioBuffer, bitrate) => {\n    // Create MediaRecorder with Opus settings closest to WhatsApp specs\n    const stream = new MediaStream();\n    const audioContext = new AudioContext({\n      sampleRate: audioBuffer.sampleRate\n    });\n    const source = audioContext.createBufferSource();\n    const destination = audioContext.createMediaStreamDestination();\n    source.buffer = audioBuffer;\n    source.connect(destination);\n    const mediaRecorder = new MediaRecorder(destination.stream, {\n      mimeType: 'audio/ogg; codecs=opus',\n      audioBitsPerSecond: bitrate\n    });\n    const chunks = [];\n    return new Promise((resolve, reject) => {\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) chunks.push(event.data);\n      };\n      mediaRecorder.onstop = () => {\n        const oggBlob = new Blob(chunks, {\n          type: 'audio/ogg; codecs=opus'\n        });\n        resolve(oggBlob);\n        audioContext.close();\n      };\n      mediaRecorder.onerror = reject;\n      source.start();\n      mediaRecorder.start();\n\n      // Stop after audio duration\n      setTimeout(() => {\n        source.stop();\n        mediaRecorder.stop();\n      }, audioBuffer.duration * 1000 + 100);\n    });\n  };\n\n  // ENGINEERING: High-quality WAV for music messages\n  const createHighQualityWAV = audioBuffer => {\n    const length = audioBuffer.length;\n    const channels = audioBuffer.numberOfChannels;\n    const sampleRate = audioBuffer.sampleRate;\n    const bitDepth = 16;\n    const bytesPerSample = bitDepth / 8;\n    const blockAlign = channels * bytesPerSample;\n    const byteRate = sampleRate * blockAlign;\n    const dataSize = length * blockAlign;\n    const bufferSize = 44 + dataSize;\n    const arrayBuffer = new ArrayBuffer(bufferSize);\n    const view = new DataView(arrayBuffer);\n\n    // WAV header\n    const writeString = (offset, string) => {\n      for (let i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n      }\n    };\n    writeString(0, 'RIFF');\n    view.setUint32(4, bufferSize - 8, true);\n    writeString(8, 'WAVE');\n    writeString(12, 'fmt ');\n    view.setUint32(16, 16, true);\n    view.setUint16(20, 1, true);\n    view.setUint16(22, channels, true);\n    view.setUint32(24, sampleRate, true);\n    view.setUint32(28, byteRate, true);\n    view.setUint16(32, blockAlign, true);\n    view.setUint16(34, bitDepth, true);\n    writeString(36, 'data');\n    view.setUint32(40, dataSize, true);\n\n    // Convert audio data\n    let offset = 44;\n    for (let i = 0; i < length; i++) {\n      for (let channel = 0; channel < channels; channel++) {\n        const channelData = audioBuffer.getChannelData(channel);\n        let sample = channelData[i];\n        sample = Math.max(-1, Math.min(1, sample));\n        const intSample = sample < 0 ? sample * 0x8000 : sample * 0x7FFF;\n        view.setInt16(offset, Math.round(intSample), true);\n        offset += 2;\n      }\n    }\n    return new Blob([arrayBuffer], {\n      type: 'audio/wav'\n    });\n  };\n\n  // BREAKTHROUGH: Create actual file system files for drag operations\n  const createFileSystemFile = async (blob, filename) => {\n    if (!fileSystemHandle) {\n      debugLog('âš ï¸ No file system access - using fallback');\n      return null;\n    }\n    try {\n      const fileHandle = await fileSystemHandle.getFileHandle(filename, {\n        create: true\n      });\n      const writable = await fileHandle.createWritable();\n      await writable.write(blob);\n      await writable.close();\n      debugLog('âœ… File created in file system', filename);\n      return fileHandle;\n    } catch (err) {\n      debugLog('âŒ File system write failed', err.message);\n      return null;\n    }\n  };\n  const startRecording = async () => {\n    try {\n      debugLog('ðŸŽ¬ Starting professional recording...');\n      setError(null);\n      cleanup();\n      if (permissionStatus !== 'granted') {\n        const granted = await checkAndRequestPermissions();\n        if (!granted) return;\n      }\n\n      // High-quality stereo recording for best processing\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2,\n          latency: 0.01\n        }\n      });\n      streamRef.current = stream;\n      setAudioStream(stream);\n\n      // Audio visualization\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      if (audioCtx.state === 'suspended') await audioCtx.resume();\n      const source = audioCtx.createMediaStreamSource(stream);\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 512;\n      analyser.smoothingTimeConstant = 0.2;\n      source.connect(analyser);\n      audioContextRef.current = audioCtx;\n      analyserRef.current = analyser;\n      dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\n\n      // Record in highest quality WebM\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm; codecs=opus',\n        audioBitsPerSecond: 320000 // Very high quality for post-processing\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.onstart = () => {\n        debugLog('ðŸŽ¬ High-quality recording active');\n        setIsRecording(true);\n        drawWaveform();\n      };\n      mediaRecorder.ondataavailable = event => {\n        var _event$data;\n        if (((_event$data = event.data) === null || _event$data === void 0 ? void 0 : _event$data.size) > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        debugLog('â¹ï¸ Processing high-quality audio...');\n        if (audioChunksRef.current.length > 0) {\n          const rawBlob = new Blob(audioChunksRef.current, {\n            type: 'audio/webm; codecs=opus'\n          });\n\n          // Create both voice and music versions\n          try {\n            const voiceBlob = await createWhatsAppAudio(rawBlob, true);\n            const musicBlob = await createWhatsAppAudio(rawBlob, false);\n            await createRecording(voiceBlob, 'voice');\n            await createRecording(musicBlob, 'music');\n          } catch (err) {\n            debugLog('âš ï¸ Using original format', err.message);\n            await createRecording(rawBlob, 'original');\n          }\n        } else {\n          setError('No audio data captured');\n        }\n        audioChunksRef.current = [];\n      };\n      mediaRecorder.onerror = event => {\n        var _event$error;\n        debugLog('âŒ Recording error', event.error);\n        setError(`Recording failed: ${(_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.message}`);\n        cleanup();\n      };\n      mediaRecorder.start(50); // High frequency for quality\n    } catch (err) {\n      debugLog('ðŸ’¥ Recording failed', err);\n      setError(`Failed to start: ${err.message}`);\n      cleanup();\n    }\n  };\n  const stopRecording = () => {\n    var _mediaRecorderRef$cur3;\n    debugLog('â¹ï¸ Stopping recording...');\n    if (((_mediaRecorderRef$cur3 = mediaRecorderRef.current) === null || _mediaRecorderRef$cur3 === void 0 ? void 0 : _mediaRecorderRef$cur3.state) === 'recording') {\n      mediaRecorderRef.current.stop();\n    }\n    setIsRecording(false);\n    setTimeout(cleanup, 1000);\n  };\n  const createRecording = async (blob, type) => {\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);\n    const extensions = {\n      voice: 'ogg',\n      music: 'wav',\n      original: 'webm'\n    };\n    const filename = `whatsapp-${type}-${timestamp}.${extensions[type]}`;\n    const url = URL.createObjectURL(blob);\n\n    // BREAKTHROUGH: Create actual file system file\n    const fileHandle = await createFileSystemFile(blob, filename);\n    const recording = {\n      id: Date.now() + Math.random(),\n      url,\n      blob,\n      filename,\n      duration: recordingTime,\n      timestamp: new Date().toLocaleTimeString(),\n      size: blob.size,\n      type,\n      fileHandle,\n      format: type === 'voice' ? 'OGG Opus (Voice)' : type === 'music' ? 'WAV (Music)' : 'WebM Original'\n    };\n    setRecordings(prev => [...prev, recording]);\n    debugLog(`âœ… ${type} recording created`, {\n      filename,\n      size: blob.size\n    });\n  };\n\n  // ENHANCED: Drag with file system integration\n  const handleDragStart = (e, recording) => {\n    setDraggedItem(recording.id);\n    if (recording.fileHandle && fileSystemHandle) {\n      // Create file system path for drag\n      const filePath = `${fileSystemHandle.name}/${recording.filename}`;\n      e.dataTransfer.setData('text/uri-list', `file:///${filePath}`);\n      e.dataTransfer.setData('text/plain', recording.filename);\n    } else {\n      // Fallback to URL\n      e.dataTransfer.setData('DownloadURL', `${recording.blob.type}:${recording.filename}:${recording.url}`);\n    }\n    e.dataTransfer.effectAllowed = 'copy';\n    debugLog('ðŸŽ¯ Enhanced drag started', {\n      filename: recording.filename,\n      hasFileSystem: !!recording.fileHandle\n    });\n  };\n  const handleDragEnd = () => {\n    setDraggedItem(null);\n  };\n  const downloadRecording = async recording => {\n    try {\n      const link = document.createElement('a');\n      link.href = recording.url;\n      link.download = recording.filename;\n      link.click();\n      debugLog('âœ… File downloaded', recording.filename);\n    } catch (err) {\n      setError(`Download failed: ${err.message}`);\n    }\n  };\n  const removeRecording = index => {\n    setRecordings(prev => {\n      const recording = prev[index];\n      URL.revokeObjectURL(recording.url);\n      return prev.filter((_, i) => i !== index);\n    });\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n  const getRecordingIcon = type => {\n    switch (type) {\n      case 'voice':\n        return 'ðŸŽ¤';\n      case 'music':\n        return 'ðŸŽµ';\n      default:\n        return 'ðŸŽ§';\n    }\n  };\n  const getCompatibilityStatus = type => {\n    switch (type) {\n      case 'voice':\n        return {\n          text: 'Voice Message',\n          color: 'text-green-600',\n          bg: 'bg-green-50'\n        };\n      case 'music':\n        return {\n          text: 'Music Quality',\n          color: 'text-blue-600',\n          bg: 'bg-blue-50'\n        };\n      default:\n        return {\n          text: 'Original',\n          color: 'text-gray-600',\n          bg: 'bg-gray-50'\n        };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-[#ece5dd] min-h-screen p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between bg-gradient-to-r from-[#075e54] to-[#128C7E] text-white px-6 py-3 rounded-lg shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83C\\uDFA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-semibold\",\n            children: \"WhatsApp Audio Studio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm opacity-90\",\n            children: \"Professional voice & music recording\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm\",\n          children: permissionStatus === 'granted' ? 'âœ… Ready' : permissionStatus === 'denied' ? 'âŒ Access Required' : 'â³ Initializing...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), fileSystemHandle && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs opacity-75\",\n          children: [\"\\uD83D\\uDCC1 File System: \", fileSystemHandle.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 7\n    }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border border-blue-200 p-4 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin text-blue-600\",\n          children: \"\\u2699\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium text-blue-800\",\n            children: \"Processing Audio...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-600\",\n            children: processingStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 9\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 p-4 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 bg-red-500 rounded-full animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-red-800\",\n            children: \"Recording High-Quality Audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-600 font-mono text-lg\",\n          children: [recordingTime, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border-l-4 border-red-400 p-4 rounded flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-700\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"text-red-400 hover:text-red-600 font-bold text-xl\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center space-x-4\",\n      children: !isRecording ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startRecording,\n          disabled: permissionStatus !== 'granted',\n          className: `flex items-center space-x-3 px-8 py-4 rounded-full shadow-lg transition-all transform hover:scale-105 ${permissionStatus !== 'granted' ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-gradient-to-r from-[#25D366] to-[#128C7E] hover:from-[#128C7E] hover:to-[#0d7377] text-white'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl\",\n            children: \"\\uD83C\\uDFA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Start Recording\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this), !fileSystemHandle && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: setupFileSystemAccess,\n          className: \"flex items-center space-x-2 px-6 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg transition-all\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Enable File Access\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopRecording,\n        className: \"flex items-center space-x-3 bg-red-500 hover:bg-red-600 text-white px-8 py-4 rounded-full shadow-lg relative transition-all transform hover:scale-105\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\u23F9\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: [\"Stop Recording (\", recordingTime, \"s)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute -top-2 -right-2 w-4 h-4 bg-red-300 rounded-full animate-ping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 7\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-lg max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 800,\n        height: 120,\n        className: \"w-full border rounded-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-600 mt-3 flex items-center justify-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"animate-pulse text-lg\",\n          children: \"\\uD83C\\uDFB5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: [\"High-Quality Audio Capture \\u2022 \", recordingTime, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 691,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4 max-w-4xl mx-auto\",\n      children: recordings.map((rec, index) => {\n        const status = getCompatibilityStatus(rec.type);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          draggable: true,\n          onDragStart: e => handleDragStart(e, rec),\n          onDragEnd: handleDragEnd,\n          className: `flex items-center space-x-4 bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-all cursor-move border-l-4 border-[#25D366] ${draggedItem === rec.id ? 'opacity-60 scale-95' : 'opacity-100 scale-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-14 h-14 bg-gradient-to-br from-[#25D366] to-[#128C7E] rounded-full flex items-center justify-center flex-shrink-0 text-white text-2xl\",\n            children: getRecordingIcon(rec.type)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded-full text-xs font-medium ${status.bg} ${status.color}`,\n                children: status.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: rec.format\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this), rec.fileHandle && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded\",\n                children: \"\\uD83D\\uDCC1 File System\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n              controls: true,\n              src: rec.url,\n              className: \"w-full mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u23F1\\uFE0F \", rec.duration, \"s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 740,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\uD83D\\uDCC1 \", formatFileSize(rec.size)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 741,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 font-medium\",\n                  children: \"\\u2705 WhatsApp Ready\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: rec.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400 mt-1 truncate font-mono\",\n              children: rec.filename\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2 flex-shrink-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => downloadRecording(rec),\n              className: \"px-4 py-2 bg-[#25D366] hover:bg-[#128C7E] text-white rounded-lg text-sm font-medium transition-colors shadow-sm\",\n              title: \"Download file\",\n              children: \"\\uD83D\\uDCBE Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeRecording(index),\n              className: \"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors shadow-sm\",\n              title: \"Delete recording\",\n              children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl opacity-60 hover:opacity-100 transition-opacity\",\n            title: \"Drag to share\",\n            children: \"\\u2197\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 15\n          }, this)]\n        }, rec.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 7\n    }, this), recordings.length === 0 && !isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-gray-500 py-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-7xl mb-4\",\n        children: \"\\uD83C\\uDFA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-medium mb-3\",\n        children: \"Professional Audio Recording\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg mb-2\",\n        children: \"Create WhatsApp-compatible voice and music messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm\",\n        children: \"High-quality recording with automatic format optimization\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 9\n    }, this), recordings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 p-6 rounded-lg max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-green-800 mb-4 flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDCF1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"WhatsApp Integration Guide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 789,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 gap-6 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-green-700 mb-3\",\n            children: \"\\uD83C\\uDFA4 Voice Messages:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2 text-green-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Format:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 23\n              }, this), \" OGG Opus at 24k bitrate\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quality:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 23\n              }, this), \" 16kHz mono (WhatsApp standard)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Usage:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 23\n              }, this), \" Perfect for voice notes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Size:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 801,\n                columnNumber: 23\n              }, this), \" Optimized for mobile data\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-blue-700 mb-3\",\n            children: \"\\uD83C\\uDFB5 Music Messages:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2 text-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Format:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 23\n              }, this), \" High-quality WAV\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quality:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 809,\n                columnNumber: 23\n              }, this), \" 44.1kHz stereo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Usage:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 23\n              }, this), \" Music and high-quality audio\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Size:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 23\n              }, this), \" Larger but superior quality\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-yellow-800 mb-2\",\n          children: \"\\uD83D\\uDE80 File System Access Benefits:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-yellow-700\",\n          children: \"When file system access is enabled, files are saved directly to your computer and can be dragged from your file explorer to WhatsApp Web or desktop applications.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 590,\n    columnNumber: 5\n  }, this);\n}\n_s(WhatsAppAudioRecorder, \"E29XdXVlE95kMNshjL4eSegaqwU=\");\n_c = WhatsAppAudioRecorder;\nvar _c;\n$RefreshReg$(_c, \"WhatsAppAudioRecorder\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","WhatsAppAudioRecorder","_s","recordings","setRecordings","isRecording","setIsRecording","recordingTime","setRecordingTime","audioStream","setAudioStream","permissionStatus","setPermissionStatus","error","setError","isProcessing","setIsProcessing","draggedItem","setDraggedItem","fileSystemHandle","setFileSystemHandle","processingStatus","setProcessingStatus","mediaRecorderRef","audioChunksRef","timerRef","audioContextRef","analyserRef","dataArrayRef","animationRef","canvasRef","streamRef","debugLog","message","data","console","log","setupFileSystemAccess","window","dirHandle","showDirectoryPicker","mode","startIn","name","err","checkAndRequestPermissions","testStream","navigator","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","autoGainControl","sampleRate","channelCount","getTracks","forEach","track","stop","cleanup","_mediaRecorderRef$cur","_audioContextRef$curr","ref","current","clearInterval","cancelAnimationFrame","state","_mediaRecorderRef$cur2","e","_audioContextRef$curr2","close","setInterval","prev","drawWaveform","canvas","ctx","getContext","analyser","dataArray","draw","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","width","height","barWidth","length","x","i","barHeight","gradient","createLinearGradient","addColorStop","createWhatsAppAudio","webmBlob","isVoiceMessage","audioContext","AudioContext","arrayBuffer","audioBuffer","decodeAudioData","createVoiceMessageFormat","createMusicMessageFormat","targetSampleRate","offlineContext","OfflineAudioContext","duration","source","createBufferSource","buffer","numberOfChannels","merger","createChannelMerger","splitter","createChannelSplitter","gain","createGain","value","connect","destination","start","resampledBuffer","startRendering","encodeAsOpus","processedBuffer","createHighQualityWAV","bitrate","stream","MediaStream","createMediaStreamDestination","mediaRecorder","MediaRecorder","mimeType","audioBitsPerSecond","chunks","Promise","resolve","reject","ondataavailable","event","size","push","onstop","oggBlob","Blob","type","onerror","setTimeout","channels","bitDepth","bytesPerSample","blockAlign","byteRate","dataSize","bufferSize","ArrayBuffer","view","DataView","writeString","offset","string","setUint8","charCodeAt","setUint32","setUint16","channel","channelData","getChannelData","sample","Math","max","min","intSample","setInt16","round","createFileSystemFile","blob","filename","fileHandle","getFileHandle","create","writable","createWritable","write","startRecording","granted","latency","audioCtx","webkitAudioContext","resume","createMediaStreamSource","createAnalyser","fftSize","smoothingTimeConstant","Uint8Array","frequencyBinCount","onstart","_event$data","rawBlob","voiceBlob","musicBlob","createRecording","_event$error","stopRecording","_mediaRecorderRef$cur3","timestamp","Date","toISOString","replace","slice","extensions","voice","music","original","url","URL","createObjectURL","recording","id","now","random","toLocaleTimeString","format","handleDragStart","filePath","dataTransfer","setData","effectAllowed","hasFileSystem","handleDragEnd","downloadRecording","link","document","createElement","href","download","click","removeRecording","index","revokeObjectURL","filter","_","formatFileSize","bytes","k","sizes","floor","parseFloat","pow","toFixed","getRecordingIcon","getCompatibilityStatus","text","color","bg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","map","rec","status","draggable","onDragStart","onDragEnd","controls","src","title","_c","$RefreshReg$"],"sources":["/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\n\nexport default function WhatsAppAudioRecorder() {\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const [permissionStatus, setPermissionStatus] = useState('checking');\n  const [error, setError] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [draggedItem, setDraggedItem] = useState(null);\n  const [fileSystemHandle, setFileSystemHandle] = useState(null);\n  const [processingStatus, setProcessingStatus] = useState('');\n  \n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n\n  const debugLog = (message, data = null) => {\n    console.log(`ðŸŽ¤ ${message}`, data);\n  };\n\n  // BREAKTHROUGH: Setup persistent file system access for drag operations\n  const setupFileSystemAccess = async () => {\n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'desktop'\n        });\n        setFileSystemHandle(dirHandle);\n        debugLog('âœ… File system access granted', dirHandle.name);\n        return dirHandle;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('âš ï¸ File system access declined', err.message);\n      }\n    }\n    return null;\n  };\n\n  const checkAndRequestPermissions = async () => {\n    try {\n      setPermissionStatus('checking');\n      \n      // Request both microphone and file system access\n      const testStream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          echoCancellation: false,    // STRATEGIC: Disable for better quality\n          noiseSuppression: false,    // WhatsApp handles this\n          autoGainControl: false,     // Manual control for consistency\n          sampleRate: 48000,          // High quality capture\n          channelCount: 2,            // Stereo capture, mono conversion later\n        } \n      });\n      \n      debugLog('âœ… Microphone access granted');\n      testStream.getTracks().forEach(track => track.stop());\n      setPermissionStatus('granted');\n      \n      // Prompt for file system access\n      await setupFileSystemAccess();\n      \n      return true;\n      \n    } catch (err) {\n      debugLog('âŒ Permissions denied', err.message);\n      setPermissionStatus('denied');\n      setError(`Microphone required: ${err.message}`);\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    checkAndRequestPermissions();\n  }, []);\n\n  const cleanup = useCallback(() => {\n    [timerRef, animationRef].forEach(ref => {\n      if (ref.current) {\n        ref === timerRef ? clearInterval(ref.current) : cancelAnimationFrame(ref.current);\n        ref.current = null;\n      }\n    });\n    \n    if (mediaRecorderRef.current?.state !== 'inactive') {\n      try {\n        mediaRecorderRef.current?.stop();\n      } catch (e) {\n        debugLog('âš ï¸ MediaRecorder cleanup', e.message);\n      }\n      mediaRecorderRef.current = null;\n    }\n    \n    if (audioContextRef.current?.state !== 'closed') {\n      audioContextRef.current?.close();\n      audioContextRef.current = null;\n    }\n    \n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n      setAudioStream(null);\n    }\n    \n    setIsRecording(false);\n    setRecordingTime(0);\n  }, []);\n\n  useEffect(() => cleanup, [cleanup]);\n\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => setRecordingTime(prev => prev + 1), 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setRecordingTime(0);\n    }\n    return () => timerRef.current && clearInterval(timerRef.current);\n  }, [isRecording]);\n\n  const drawWaveform = useCallback(() => {\n    if (!canvasRef.current || !analyserRef.current || !isRecording) return;\n    \n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n\n    const draw = () => {\n      if (!isRecording) return;\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteFrequencyData(dataArray);\n\n      ctx.fillStyle = \"#f0f2f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      \n      const barWidth = (canvas.width / dataArray.length) * 2.5;\n      let x = 0;\n\n      for (let i = 0; i < dataArray.length; i++) {\n        const barHeight = (dataArray[i] / 255) * canvas.height * 0.9;\n        const gradient = ctx.createLinearGradient(0, canvas.height - barHeight, 0, canvas.height);\n        gradient.addColorStop(0, '#25D366');\n        gradient.addColorStop(0.5, '#128C7E');\n        gradient.addColorStop(1, '#0d7377');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, canvas.height - barHeight, barWidth - 1, barHeight);\n        x += barWidth;\n      }\n    };\n    draw();\n  }, [isRecording]);\n\n  // STRATEGIC: WhatsApp-Compatible Audio Processing Pipeline\n  const createWhatsAppAudio = async (webmBlob, isVoiceMessage = true) => {\n    debugLog('ðŸ”§ Creating WhatsApp-compatible audio...');\n    setIsProcessing(true);\n    \n    try {\n      const audioContext = new AudioContext();\n      const arrayBuffer = await webmBlob.arrayBuffer();\n      const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n      \n      if (isVoiceMessage) {\n        // VOICE MESSAGE: 16kHz mono Opus at 24k bitrate\n        setProcessingStatus('Converting to voice message format...');\n        return await createVoiceMessageFormat(audioBuffer);\n      } else {\n        // MUSIC MESSAGE: AAC in M4A at 128k bitrate\n        setProcessingStatus('Converting to high-quality M4A...');\n        return await createMusicMessageFormat(audioBuffer);\n      }\n      \n    } catch (err) {\n      debugLog('âŒ Audio conversion failed', err.message);\n      throw err;\n    } finally {\n      setIsProcessing(false);\n      setProcessingStatus('');\n    }\n  };\n\n  // ENGINEERING: Voice Message Format (16kHz mono Opus)\n  const createVoiceMessageFormat = async (audioBuffer) => {\n    // Resample to 16kHz mono for WhatsApp voice messages\n    const targetSampleRate = 16000;\n    const offlineContext = new OfflineAudioContext(\n      1, // Mono\n      audioBuffer.duration * targetSampleRate,\n      targetSampleRate\n    );\n    \n    const source = offlineContext.createBufferSource();\n    source.buffer = audioBuffer;\n    \n    // Mix stereo to mono if needed\n    if (audioBuffer.numberOfChannels > 1) {\n      const merger = offlineContext.createChannelMerger(1);\n      const splitter = offlineContext.createChannelSplitter(audioBuffer.numberOfChannels);\n      const gain = offlineContext.createGain();\n      gain.gain.value = 1 / audioBuffer.numberOfChannels;\n      \n      source.connect(splitter);\n      for (let i = 0; i < audioBuffer.numberOfChannels; i++) {\n        splitter.connect(gain, i);\n      }\n      gain.connect(merger, 0, 0);\n      merger.connect(offlineContext.destination);\n    } else {\n      source.connect(offlineContext.destination);\n    }\n    \n    source.start();\n    const resampledBuffer = await offlineContext.startRendering();\n    \n    // Create optimized OGG Opus for voice\n    return await encodeAsOpus(resampledBuffer, 24000); // 24k bitrate\n  };\n\n  // ENGINEERING: Music Message Format (AAC simulation via high-quality WAV)\n  const createMusicMessageFormat = async (audioBuffer) => {\n    // Since browsers can't encode AAC directly, create high-quality WAV\n    // that will be accepted by WhatsApp as music\n    const sampleRate = 44100;\n    let processedBuffer = audioBuffer;\n    \n    // Resample to 44.1kHz if needed\n    if (audioBuffer.sampleRate !== sampleRate) {\n      const offlineContext = new OfflineAudioContext(\n        2, // Stereo for music\n        audioBuffer.duration * sampleRate,\n        sampleRate\n      );\n      \n      const source = offlineContext.createBufferSource();\n      source.buffer = audioBuffer;\n      source.connect(offlineContext.destination);\n      source.start();\n      \n      processedBuffer = await offlineContext.startRendering();\n    }\n    \n    // Create high-quality WAV (WhatsApp accepts WAV as music format)\n    return createHighQualityWAV(processedBuffer);\n  };\n\n  // STRATEGIC: Opus encoding simulation (best effort in browser)\n  const encodeAsOpus = async (audioBuffer, bitrate) => {\n    // Create MediaRecorder with Opus settings closest to WhatsApp specs\n    const stream = new MediaStream();\n    const audioContext = new AudioContext({ sampleRate: audioBuffer.sampleRate });\n    const source = audioContext.createBufferSource();\n    const destination = audioContext.createMediaStreamDestination();\n    \n    source.buffer = audioBuffer;\n    source.connect(destination);\n    \n    const mediaRecorder = new MediaRecorder(destination.stream, {\n      mimeType: 'audio/ogg; codecs=opus',\n      audioBitsPerSecond: bitrate\n    });\n    \n    const chunks = [];\n    \n    return new Promise((resolve, reject) => {\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) chunks.push(event.data);\n      };\n      \n      mediaRecorder.onstop = () => {\n        const oggBlob = new Blob(chunks, { type: 'audio/ogg; codecs=opus' });\n        resolve(oggBlob);\n        audioContext.close();\n      };\n      \n      mediaRecorder.onerror = reject;\n      \n      source.start();\n      mediaRecorder.start();\n      \n      // Stop after audio duration\n      setTimeout(() => {\n        source.stop();\n        mediaRecorder.stop();\n      }, audioBuffer.duration * 1000 + 100);\n    });\n  };\n\n  // ENGINEERING: High-quality WAV for music messages\n  const createHighQualityWAV = (audioBuffer) => {\n    const length = audioBuffer.length;\n    const channels = audioBuffer.numberOfChannels;\n    const sampleRate = audioBuffer.sampleRate;\n    const bitDepth = 16;\n    \n    const bytesPerSample = bitDepth / 8;\n    const blockAlign = channels * bytesPerSample;\n    const byteRate = sampleRate * blockAlign;\n    const dataSize = length * blockAlign;\n    const bufferSize = 44 + dataSize;\n    \n    const arrayBuffer = new ArrayBuffer(bufferSize);\n    const view = new DataView(arrayBuffer);\n    \n    // WAV header\n    const writeString = (offset, string) => {\n      for (let i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n      }\n    };\n    \n    writeString(0, 'RIFF');\n    view.setUint32(4, bufferSize - 8, true);\n    writeString(8, 'WAVE');\n    writeString(12, 'fmt ');\n    view.setUint32(16, 16, true);\n    view.setUint16(20, 1, true);\n    view.setUint16(22, channels, true);\n    view.setUint32(24, sampleRate, true);\n    view.setUint32(28, byteRate, true);\n    view.setUint16(32, blockAlign, true);\n    view.setUint16(34, bitDepth, true);\n    writeString(36, 'data');\n    view.setUint32(40, dataSize, true);\n    \n    // Convert audio data\n    let offset = 44;\n    for (let i = 0; i < length; i++) {\n      for (let channel = 0; channel < channels; channel++) {\n        const channelData = audioBuffer.getChannelData(channel);\n        let sample = channelData[i];\n        sample = Math.max(-1, Math.min(1, sample));\n        const intSample = sample < 0 ? sample * 0x8000 : sample * 0x7FFF;\n        view.setInt16(offset, Math.round(intSample), true);\n        offset += 2;\n      }\n    }\n    \n    return new Blob([arrayBuffer], { type: 'audio/wav' });\n  };\n\n  // BREAKTHROUGH: Create actual file system files for drag operations\n  const createFileSystemFile = async (blob, filename) => {\n    if (!fileSystemHandle) {\n      debugLog('âš ï¸ No file system access - using fallback');\n      return null;\n    }\n    \n    try {\n      const fileHandle = await fileSystemHandle.getFileHandle(filename, {\n        create: true\n      });\n      \n      const writable = await fileHandle.createWritable();\n      await writable.write(blob);\n      await writable.close();\n      \n      debugLog('âœ… File created in file system', filename);\n      return fileHandle;\n      \n    } catch (err) {\n      debugLog('âŒ File system write failed', err.message);\n      return null;\n    }\n  };\n\n  const startRecording = async () => {\n    try {\n      debugLog('ðŸŽ¬ Starting professional recording...');\n      setError(null);\n      cleanup();\n      \n      if (permissionStatus !== 'granted') {\n        const granted = await checkAndRequestPermissions();\n        if (!granted) return;\n      }\n\n      // High-quality stereo recording for best processing\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2,\n          latency: 0.01\n        }\n      });\n      \n      streamRef.current = stream;\n      setAudioStream(stream);\n\n      // Audio visualization\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      if (audioCtx.state === 'suspended') await audioCtx.resume();\n      \n      const source = audioCtx.createMediaStreamSource(stream);\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 512;\n      analyser.smoothingTimeConstant = 0.2;\n      source.connect(analyser);\n      \n      audioContextRef.current = audioCtx;\n      analyserRef.current = analyser;\n      dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\n\n      // Record in highest quality WebM\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm; codecs=opus',\n        audioBitsPerSecond: 320000 // Very high quality for post-processing\n      });\n\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.onstart = () => {\n        debugLog('ðŸŽ¬ High-quality recording active');\n        setIsRecording(true);\n        drawWaveform();\n      };\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data?.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        debugLog('â¹ï¸ Processing high-quality audio...');\n        \n        if (audioChunksRef.current.length > 0) {\n          const rawBlob = new Blob(audioChunksRef.current, { \n            type: 'audio/webm; codecs=opus' \n          });\n          \n          // Create both voice and music versions\n          try {\n            const voiceBlob = await createWhatsAppAudio(rawBlob, true);\n            const musicBlob = await createWhatsAppAudio(rawBlob, false);\n            \n            await createRecording(voiceBlob, 'voice');\n            await createRecording(musicBlob, 'music');\n            \n          } catch (err) {\n            debugLog('âš ï¸ Using original format', err.message);\n            await createRecording(rawBlob, 'original');\n          }\n        } else {\n          setError('No audio data captured');\n        }\n        \n        audioChunksRef.current = [];\n      };\n\n      mediaRecorder.onerror = (event) => {\n        debugLog('âŒ Recording error', event.error);\n        setError(`Recording failed: ${event.error?.message}`);\n        cleanup();\n      };\n\n      mediaRecorder.start(50); // High frequency for quality\n      \n    } catch (err) {\n      debugLog('ðŸ’¥ Recording failed', err);\n      setError(`Failed to start: ${err.message}`);\n      cleanup();\n    }\n  };\n\n  const stopRecording = () => {\n    debugLog('â¹ï¸ Stopping recording...');\n    if (mediaRecorderRef.current?.state === 'recording') {\n      mediaRecorderRef.current.stop();\n    }\n    setIsRecording(false);\n    setTimeout(cleanup, 1000);\n  };\n\n  const createRecording = async (blob, type) => {\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);\n    const extensions = {\n      voice: 'ogg',\n      music: 'wav',\n      original: 'webm'\n    };\n    const filename = `whatsapp-${type}-${timestamp}.${extensions[type]}`;\n    \n    const url = URL.createObjectURL(blob);\n    \n    // BREAKTHROUGH: Create actual file system file\n    const fileHandle = await createFileSystemFile(blob, filename);\n    \n    const recording = {\n      id: Date.now() + Math.random(),\n      url,\n      blob,\n      filename,\n      duration: recordingTime,\n      timestamp: new Date().toLocaleTimeString(),\n      size: blob.size,\n      type,\n      fileHandle,\n      format: type === 'voice' ? 'OGG Opus (Voice)' : \n               type === 'music' ? 'WAV (Music)' : 'WebM Original'\n    };\n    \n    setRecordings(prev => [...prev, recording]);\n    debugLog(`âœ… ${type} recording created`, { filename, size: blob.size });\n  };\n\n  // ENHANCED: Drag with file system integration\n  const handleDragStart = (e, recording) => {\n    setDraggedItem(recording.id);\n    \n    if (recording.fileHandle && fileSystemHandle) {\n      // Create file system path for drag\n      const filePath = `${fileSystemHandle.name}/${recording.filename}`;\n      e.dataTransfer.setData('text/uri-list', `file:///${filePath}`);\n      e.dataTransfer.setData('text/plain', recording.filename);\n    } else {\n      // Fallback to URL\n      e.dataTransfer.setData('DownloadURL', \n        `${recording.blob.type}:${recording.filename}:${recording.url}`);\n    }\n    \n    e.dataTransfer.effectAllowed = 'copy';\n    debugLog('ðŸŽ¯ Enhanced drag started', { filename: recording.filename, hasFileSystem: !!recording.fileHandle });\n  };\n\n  const handleDragEnd = () => {\n    setDraggedItem(null);\n  };\n\n  const downloadRecording = async (recording) => {\n    try {\n      const link = document.createElement('a');\n      link.href = recording.url;\n      link.download = recording.filename;\n      link.click();\n      debugLog('âœ… File downloaded', recording.filename);\n    } catch (err) {\n      setError(`Download failed: ${err.message}`);\n    }\n  };\n\n  const removeRecording = (index) => {\n    setRecordings(prev => {\n      const recording = prev[index];\n      URL.revokeObjectURL(recording.url);\n      return prev.filter((_, i) => i !== index);\n    });\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  const getRecordingIcon = (type) => {\n    switch (type) {\n      case 'voice': return 'ðŸŽ¤';\n      case 'music': return 'ðŸŽµ';\n      default: return 'ðŸŽ§';\n    }\n  };\n\n  const getCompatibilityStatus = (type) => {\n    switch (type) {\n      case 'voice': return { text: 'Voice Message', color: 'text-green-600', bg: 'bg-green-50' };\n      case 'music': return { text: 'Music Quality', color: 'text-blue-600', bg: 'bg-blue-50' };\n      default: return { text: 'Original', color: 'text-gray-600', bg: 'bg-gray-50' };\n    }\n  };\n\n  return (\n    <div className=\"bg-[#ece5dd] min-h-screen p-4 space-y-4\">\n      {/* Professional status bar */}\n      <div className=\"flex items-center justify-between bg-gradient-to-r from-[#075e54] to-[#128C7E] text-white px-6 py-3 rounded-lg shadow-lg\">\n        <div className=\"flex items-center space-x-3\">\n          <span className=\"text-2xl\">ðŸŽ¤</span>\n          <div>\n            <h1 className=\"font-semibold\">WhatsApp Audio Studio</h1>\n            <p className=\"text-sm opacity-90\">Professional voice & music recording</p>\n          </div>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-sm\">\n            {permissionStatus === 'granted' ? 'âœ… Ready' : \n             permissionStatus === 'denied' ? 'âŒ Access Required' : 'â³ Initializing...'}\n          </div>\n          {fileSystemHandle && (\n            <div className=\"text-xs opacity-75\">ðŸ“ File System: {fileSystemHandle.name}</div>\n          )}\n        </div>\n      </div>\n\n      {/* Processing status */}\n      {isProcessing && (\n        <div className=\"bg-blue-50 border border-blue-200 p-4 rounded-lg\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"animate-spin text-blue-600\">âš™ï¸</div>\n            <div>\n              <div className=\"font-medium text-blue-800\">Processing Audio...</div>\n              <div className=\"text-sm text-blue-600\">{processingStatus}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Recording status */}\n      {isRecording && (\n        <div className=\"bg-red-50 border border-red-200 p-4 rounded-lg\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <span className=\"w-3 h-3 bg-red-500 rounded-full animate-pulse\"></span>\n              <span className=\"font-medium text-red-800\">Recording High-Quality Audio</span>\n            </div>\n            <span className=\"text-red-600 font-mono text-lg\">{recordingTime}s</span>\n          </div>\n        </div>\n      )}\n\n      {/* Error display */}\n      {error && (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 rounded flex justify-between items-center\">\n          <span className=\"text-red-700\">{error}</span>\n          <button \n            onClick={() => setError(null)}\n            className=\"text-red-400 hover:text-red-600 font-bold text-xl\"\n          >\n            Ã—\n          </button>\n        </div>\n      )}\n\n      {/* Recording controls */}\n      <div className=\"flex justify-center space-x-4\">\n        {!isRecording ? (\n          <>\n            <button\n              onClick={startRecording}\n              disabled={permissionStatus !== 'granted'}\n              className={`flex items-center space-x-3 px-8 py-4 rounded-full shadow-lg transition-all transform hover:scale-105 ${\n                permissionStatus !== 'granted' \n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed' \n                  : 'bg-gradient-to-r from-[#25D366] to-[#128C7E] hover:from-[#128C7E] hover:to-[#0d7377] text-white'\n              }`}\n            >\n              <span className=\"text-2xl\">ðŸŽ¤</span>\n              <span className=\"font-semibold\">Start Recording</span>\n            </button>\n            \n            {!fileSystemHandle && (\n              <button\n                onClick={setupFileSystemAccess}\n                className=\"flex items-center space-x-2 px-6 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg transition-all\"\n              >\n                <span>ðŸ“</span>\n                <span>Enable File Access</span>\n              </button>\n            )}\n          </>\n        ) : (\n          <button\n            onClick={stopRecording}\n            className=\"flex items-center space-x-3 bg-red-500 hover:bg-red-600 text-white px-8 py-4 rounded-full shadow-lg relative transition-all transform hover:scale-105\"\n          >\n            <span className=\"text-2xl\">â¹ï¸</span>\n            <span className=\"font-semibold\">Stop Recording ({recordingTime}s)</span>\n            <span className=\"absolute -top-2 -right-2 w-4 h-4 bg-red-300 rounded-full animate-ping\"></span>\n          </button>\n        )}\n      </div>\n\n      {/* Waveform visualization */}\n      {isRecording && (\n        <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-4xl mx-auto\">\n          <canvas\n            ref={canvasRef}\n            width={800}\n            height={120}\n            className=\"w-full border rounded-lg\"\n          />\n          <div className=\"text-center text-gray-600 mt-3 flex items-center justify-center space-x-2\">\n            <span className=\"animate-pulse text-lg\">ðŸŽµ</span>\n            <span className=\"font-medium\">High-Quality Audio Capture â€¢ {recordingTime}s</span>\n          </div>\n        </div>\n      )}\n\n      {/* Professional recordings display */}\n      <div className=\"space-y-4 max-w-4xl mx-auto\">\n        {recordings.map((rec, index) => {\n          const status = getCompatibilityStatus(rec.type);\n          return (\n            <div\n              key={rec.id}\n              draggable\n              onDragStart={(e) => handleDragStart(e, rec)}\n              onDragEnd={handleDragEnd}\n              className={`flex items-center space-x-4 bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-all cursor-move border-l-4 border-[#25D366] ${\n                draggedItem === rec.id ? 'opacity-60 scale-95' : 'opacity-100 scale-100'\n              }`}\n            >\n              <div className=\"w-14 h-14 bg-gradient-to-br from-[#25D366] to-[#128C7E] rounded-full flex items-center justify-center flex-shrink-0 text-white text-2xl\">\n                {getRecordingIcon(rec.type)}\n              </div>\n              \n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center space-x-2 mb-2\">\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${status.bg} ${status.color}`}>\n                    {status.text}\n                  </span>\n                  <span className=\"text-xs text-gray-500\">{rec.format}</span>\n                  {rec.fileHandle && (\n                    <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded\">\n                      ðŸ“ File System\n                    </span>\n                  )}\n                </div>\n                \n                <audio controls src={rec.url} className=\"w-full mb-2\" />\n                \n                <div className=\"text-sm text-gray-600 flex justify-between items-center\">\n                  <span className=\"flex items-center space-x-3\">\n                    <span>â±ï¸ {rec.duration}s</span>\n                    <span>ðŸ“ {formatFileSize(rec.size)}</span>\n                    <span className=\"text-green-600 font-medium\">âœ… WhatsApp Ready</span>\n                  </span>\n                  <span>{rec.timestamp}</span>\n                </div>\n                \n                <div className=\"text-xs text-gray-400 mt-1 truncate font-mono\">\n                  {rec.filename}\n                </div>\n              </div>\n\n              <div className=\"flex space-x-2 flex-shrink-0\">\n                <button\n                  onClick={() => downloadRecording(rec)}\n                  className=\"px-4 py-2 bg-[#25D366] hover:bg-[#128C7E] text-white rounded-lg text-sm font-medium transition-colors shadow-sm\"\n                  title=\"Download file\"\n                >\n                  ðŸ’¾ Save\n                </button>\n                <button\n                  onClick={() => removeRecording(index)}\n                  className=\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors shadow-sm\"\n                  title=\"Delete recording\"\n                >\n                  ðŸ—‘ï¸ Delete\n                </button>\n              </div>\n              \n              <div className=\"text-2xl opacity-60 hover:opacity-100 transition-opacity\" title=\"Drag to share\">\n                â†—ï¸\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {recordings.length === 0 && !isRecording && (\n        <div className=\"text-center text-gray-500 py-16\">\n          <div className=\"text-7xl mb-4\">ðŸŽ¤</div>\n          <h3 className=\"text-2xl font-medium mb-3\">Professional Audio Recording</h3>\n          <p className=\"text-lg mb-2\">Create WhatsApp-compatible voice and music messages</p>\n          <p className=\"text-sm\">High-quality recording with automatic format optimization</p>\n        </div>\n      )}\n\n      {/* Enhanced usage guide */}\n      {recordings.length > 0 && (\n        <div className=\"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 p-6 rounded-lg max-w-4xl mx-auto\">\n          <h3 className=\"font-semibold text-green-800 mb-4 flex items-center space-x-2\">\n            <span>ðŸ“±</span>\n            <span>WhatsApp Integration Guide</span>\n          </h3>\n          \n          <div className=\"grid md:grid-cols-2 gap-6 text-sm\">\n            <div>\n              <h4 className=\"font-medium text-green-700 mb-3\">ðŸŽ¤ Voice Messages:</h4>\n              <ul className=\"space-y-2 text-green-600\">\n                <li>â€¢ <strong>Format:</strong> OGG Opus at 24k bitrate</li>\n                <li>â€¢ <strong>Quality:</strong> 16kHz mono (WhatsApp standard)</li>\n                <li>â€¢ <strong>Usage:</strong> Perfect for voice notes</li>\n                <li>â€¢ <strong>Size:</strong> Optimized for mobile data</li>\n              </ul>\n            </div>\n            \n            <div>\n              <h4 className=\"font-medium text-blue-700 mb-3\">ðŸŽµ Music Messages:</h4>\n              <ul className=\"space-y-2 text-blue-600\">\n                <li>â€¢ <strong>Format:</strong> High-quality WAV</li>\n                <li>â€¢ <strong>Quality:</strong> 44.1kHz stereo</li>\n                <li>â€¢ <strong>Usage:</strong> Music and high-quality audio</li>\n                <li>â€¢ <strong>Size:</strong> Larger but superior quality</li>\n              </ul>\n            </div>\n          </div>\n          \n          <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n            <h4 className=\"font-medium text-yellow-800 mb-2\">ðŸš€ File System Access Benefits:</h4>\n            <p className=\"text-sm text-yellow-700\">\n              When file system access is enabled, files are saved directly to your computer and can be dragged \n              from your file explorer to WhatsApp Web or desktop applications.\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}