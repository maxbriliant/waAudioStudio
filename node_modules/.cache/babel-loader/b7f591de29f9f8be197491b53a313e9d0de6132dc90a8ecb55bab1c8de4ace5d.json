{"ast":null,"code":"var _jsxFileName = \"/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WhatsAppAudioRecorder() {\n  _s();\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => {\n        setRecordingTime(prev => prev + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerRef.current);\n      setRecordingTime(0);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [isRecording]);\n  const drawWaveform = () => {\n    if (!canvasRef.current || !analyserRef.current) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n    const draw = () => {\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteTimeDomainData(dataArray);\n      ctx.fillStyle = \"#fff\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = \"#25D366\";\n      ctx.beginPath();\n      const sliceWidth = canvas.width * 1.0 / dataArray.length;\n      let x = 0;\n      for (let i = 0; i < dataArray.length; i++) {\n        const v = dataArray[i] / 128.0;\n        const y = v * canvas.height / 2;\n        if (i === 0) {\n          ctx.moveTo(x, y);\n        } else {\n          ctx.lineTo(x, y);\n        }\n        x += sliceWidth;\n      }\n      ctx.lineTo(canvas.width, canvas.height / 2);\n      ctx.stroke();\n    };\n    draw();\n  };\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      setAudioStream(stream);\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: \"audio/webm\",\n        audioBitsPerSecond: 192000\n      });\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, {\n          type: \"audio/webm\"\n        });\n        const url = URL.createObjectURL(blob);\n        setRecordings(prev => [...prev, {\n          url,\n          blob,\n          duration: recordingTime\n        }]);\n        audioChunksRef.current = [];\n        if (audioContextRef.current) {\n          audioContextRef.current.close();\n          audioContextRef.current = null;\n        }\n        cancelAnimationFrame(animationRef.current);\n      };\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setIsRecording(true);\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      const source = audioContextRef.current.createMediaStreamSource(stream);\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      source.connect(analyserRef.current);\n      analyserRef.current.fftSize = 2048;\n      const bufferLength = analyserRef.current.frequencyBinCount;\n      dataArrayRef.current = new Uint8Array(bufferLength);\n      drawWaveform();\n    } catch (err) {\n      alert(\"Microphone access denied or not available.\");\n    }\n  };\n  const stopRecording = () => {\n    var _mediaRecorderRef$cur;\n    (_mediaRecorderRef$cur = mediaRecorderRef.current) === null || _mediaRecorderRef$cur === void 0 ? void 0 : _mediaRecorderRef$cur.stop();\n    setIsRecording(false);\n    audioStream === null || audioStream === void 0 ? void 0 : audioStream.getTracks().forEach(track => track.stop());\n  };\n  const copyToClipboard = async blob => {\n    try {\n      const file = new File([blob], \"voice.webm\", {\n        type: \"audio/webm\"\n      });\n      const item = new ClipboardItem({\n        \"audio/webm\": file\n      });\n      await navigator.clipboard.write([item]);\n      alert(\"Audio copied to clipboard!\");\n    } catch (err) {\n      console.error(\"Clipboard write failed:\", err);\n      alert(\"Copy failed: \" + err.message);\n    }\n  };\n  const saveRecording = blob => {\n    const a = document.createElement(\"a\");\n    a.href = URL.createObjectURL(blob);\n    a.download = `recording_${Date.now()}.webm`;\n    a.click();\n  };\n  const removeRecording = index => {\n    setRecordings(prev => prev.filter((_, i) => i !== index));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-[#ece5dd] min-h-screen p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2\",\n      children: !isRecording ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startRecording,\n        className: \"bg-white border border-gray-300 hover:bg-gray-100 text-black px-4 py-2 rounded-full shadow-md relative\",\n        title: \"Start recording\",\n        children: \"\\uD83C\\uDF99\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopRecording,\n        className: \"bg-white border border-gray-300 hover:bg-gray-100 text-black px-4 py-2 rounded-full shadow-md relative\",\n        title: \"Stop recording\",\n        children: [\"\\u23F9\\uFE0F \", recordingTime, \"s\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute -top-3 right-0 w-3 h-3 bg-red-500 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 300,\n      height: 60,\n      className: \"bg-white border rounded shadow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: recordings.map((rec, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3 bg-[#dcf8c6] p-3 rounded-xl shadow-md w-fit max-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.gravatar.com/avatar?d=mp\",\n          alt: \"Avatar\",\n          className: \"w-10 h-10 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n            controls: true,\n            src: rec.url,\n            className: \"w-60\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: [rec.duration, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => copyToClipboard(rec.blob),\n          className: \"text-green-700 hover:text-green-900\",\n          title: \"Copy to clipboard\",\n          children: \"\\uD83D\\uDCCB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => saveRecording(rec.blob),\n          className: \"text-blue-700 hover:text-blue-900\",\n          title: \"Download recording\",\n          children: \"\\uD83D\\uDCBE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeRecording(index),\n          className: \"text-red-700 hover:text-red-900\",\n          title: \"Delete recording\",\n          children: \"\\uD83D\\uDDD1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_s(WhatsAppAudioRecorder, \"HSDs6mSXI2bNE7Nj7925HfMkbks=\");\n_c = WhatsAppAudioRecorder;\nvar _c;\n$RefreshReg$(_c, \"WhatsAppAudioRecorder\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","WhatsAppAudioRecorder","_s","recordings","setRecordings","isRecording","setIsRecording","recordingTime","setRecordingTime","audioStream","setAudioStream","mediaRecorderRef","audioChunksRef","timerRef","audioContextRef","analyserRef","dataArrayRef","animationRef","canvasRef","current","setInterval","prev","clearInterval","drawWaveform","canvas","ctx","getContext","analyser","dataArray","draw","requestAnimationFrame","getByteTimeDomainData","fillStyle","fillRect","width","height","lineWidth","strokeStyle","beginPath","sliceWidth","length","x","i","v","y","moveTo","lineTo","stroke","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","mimeType","audioBitsPerSecond","ondataavailable","event","data","size","push","onstop","blob","Blob","type","url","URL","createObjectURL","duration","close","cancelAnimationFrame","start","window","AudioContext","webkitAudioContext","source","createMediaStreamSource","createAnalyser","connect","fftSize","bufferLength","frequencyBinCount","Uint8Array","err","alert","stopRecording","_mediaRecorderRef$cur","stop","getTracks","forEach","track","copyToClipboard","file","File","item","ClipboardItem","clipboard","write","console","error","message","saveRecording","a","document","createElement","href","download","Date","now","click","removeRecording","index","filter","_","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","ref","map","rec","src","alt","controls","_c","$RefreshReg$"],"sources":["/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\n\nexport default function WhatsAppAudioRecorder() {\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => {\n        setRecordingTime((prev) => prev + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerRef.current);\n      setRecordingTime(0);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [isRecording]);\n\n  const drawWaveform = () => {\n    if (!canvasRef.current || !analyserRef.current) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n\n    const draw = () => {\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteTimeDomainData(dataArray);\n\n      ctx.fillStyle = \"#fff\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = \"#25D366\";\n      ctx.beginPath();\n\n      const sliceWidth = (canvas.width * 1.0) / dataArray.length;\n      let x = 0;\n\n      for (let i = 0; i < dataArray.length; i++) {\n        const v = dataArray[i] / 128.0;\n        const y = (v * canvas.height) / 2;\n\n        if (i === 0) {\n          ctx.moveTo(x, y);\n        } else {\n          ctx.lineTo(x, y);\n        }\n\n        x += sliceWidth;\n      }\n      ctx.lineTo(canvas.width, canvas.height / 2);\n      ctx.stroke();\n    };\n    draw();\n  };\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      setAudioStream(stream);\n\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: \"audio/webm\",\n        audioBitsPerSecond: 192000,\n      });\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, { type: \"audio/webm\" });\n        const url = URL.createObjectURL(blob);\n        setRecordings((prev) => [...prev, { url, blob, duration: recordingTime }]);\n        audioChunksRef.current = [];\n\n        if (audioContextRef.current) {\n          audioContextRef.current.close();\n          audioContextRef.current = null;\n        }\n        cancelAnimationFrame(animationRef.current);\n      };\n\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setIsRecording(true);\n\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      const source = audioContextRef.current.createMediaStreamSource(stream);\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      source.connect(analyserRef.current);\n      analyserRef.current.fftSize = 2048;\n      const bufferLength = analyserRef.current.frequencyBinCount;\n      dataArrayRef.current = new Uint8Array(bufferLength);\n\n      drawWaveform();\n    } catch (err) {\n      alert(\"Microphone access denied or not available.\");\n    }\n  };\n\n  const stopRecording = () => {\n    mediaRecorderRef.current?.stop();\n    setIsRecording(false);\n    audioStream?.getTracks().forEach((track) => track.stop());\n  };\n\n  const copyToClipboard = async (blob) => {\n    try {\n      const file = new File([blob], \"voice.webm\", { type: \"audio/webm\" });\n      const item = new ClipboardItem({ \"audio/webm\": file });\n      await navigator.clipboard.write([item]);\n      alert(\"Audio copied to clipboard!\");\n    } catch (err) {\n      console.error(\"Clipboard write failed:\", err);\n      alert(\"Copy failed: \" + err.message);\n    }\n  };\n\n  const saveRecording = (blob) => {\n    const a = document.createElement(\"a\");\n    a.href = URL.createObjectURL(blob);\n    a.download = `recording_${Date.now()}.webm`;\n    a.click();\n  };\n\n  const removeRecording = (index) => {\n    setRecordings((prev) => prev.filter((_, i) => i !== index));\n  };\n\n  return (\n    <div className=\"bg-[#ece5dd] min-h-screen p-4 space-y-4\">\n      <div className=\"flex items-center space-x-2\">\n        {!isRecording ? (\n          <button\n            onClick={startRecording}\n            className=\"bg-white border border-gray-300 hover:bg-gray-100 text-black px-4 py-2 rounded-full shadow-md relative\"\n            title=\"Start recording\"\n          >\n            üéôÔ∏è\n          </button>\n        ) : (\n          <button\n            onClick={stopRecording}\n            className=\"bg-white border border-gray-300 hover:bg-gray-100 text-black px-4 py-2 rounded-full shadow-md relative\"\n            title=\"Stop recording\"\n          >\n            ‚èπÔ∏è {recordingTime}s\n            <span className=\"absolute -top-3 right-0 w-3 h-3 bg-red-500 rounded-full\" />\n          </button>\n        )}\n      </div>\n\n      {isRecording && (\n        <canvas\n          ref={canvasRef}\n          width={300}\n          height={60}\n          className=\"bg-white border rounded shadow\"\n        />\n      )}\n\n      <div className=\"space-y-3\">\n        {recordings.map((rec, index) => (\n          <div\n            key={index}\n            className=\"flex items-center space-x-3 bg-[#dcf8c6] p-3 rounded-xl shadow-md w-fit max-w-full\"\n          >\n            <img\n              src=\"https://www.gravatar.com/avatar?d=mp\"\n              alt=\"Avatar\"\n              className=\"w-10 h-10 rounded-full\"\n            />\n            <div className=\"flex flex-col\">\n              <audio controls src={rec.url} className=\"w-60\" />\n              <span className=\"text-xs text-gray-500\">{rec.duration}s</span>\n            </div>\n            <button\n              onClick={() => copyToClipboard(rec.blob)}\n              className=\"text-green-700 hover:text-green-900\"\n              title=\"Copy to clipboard\"\n            >\n              üìã\n            </button>\n            <button\n              onClick={() => saveRecording(rec.blob)}\n              className=\"text-blue-700 hover:text-blue-900\"\n              title=\"Download recording\"\n            >\n              üíæ\n            </button>\n            <button\n              onClick={() => removeRecording(index)}\n              className=\"text-red-700 hover:text-red-900\"\n              title=\"Delete recording\"\n            >\n              üóëÔ∏è\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}