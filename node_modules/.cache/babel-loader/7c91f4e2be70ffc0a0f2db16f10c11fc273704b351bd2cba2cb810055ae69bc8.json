{"ast":null,"code":"var _jsxFileName = \"/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WhatsAppAudioRecorder() {\n  _s();\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const [permissionStatus, setPermissionStatus] = useState('checking');\n  const [error, setError] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [processingStatus, setProcessingStatus] = useState('');\n  const [workingDirectory, setWorkingDirectory] = useState(null);\n  const [supportedFormats, setSupportedFormats] = useState([]);\n  const [selectedFormat, setSelectedFormat] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n  const debugLog = (message, data = null) => {\n    console.log(`ðŸŽ¤ ${message}`, data);\n  };\n\n  // STRATEGIC: Detect all supported MediaRecorder formats\n  const detectSupportedFormats = () => {\n    const formats = [{\n      mimeType: 'audio/webm; codecs=opus',\n      name: 'WebM Opus',\n      priority: 1\n    }, {\n      mimeType: 'audio/webm',\n      name: 'WebM',\n      priority: 2\n    }, {\n      mimeType: 'audio/ogg; codecs=opus',\n      name: 'OGG Opus',\n      priority: 3\n    }, {\n      mimeType: 'audio/ogg',\n      name: 'OGG',\n      priority: 4\n    }, {\n      mimeType: 'audio/mp4',\n      name: 'MP4',\n      priority: 5\n    }, {\n      mimeType: 'audio/wav',\n      name: 'WAV',\n      priority: 6\n    }, {\n      mimeType: 'audio/mpeg',\n      name: 'MP3',\n      priority: 7\n    }];\n    const supported = formats.filter(format => MediaRecorder.isTypeSupported(format.mimeType)).sort((a, b) => a.priority - b.priority);\n    setSupportedFormats(supported);\n    if (supported.length > 0) {\n      setSelectedFormat(supported[0]);\n      debugLog('âœ… MediaRecorder formats detected', {\n        supported: supported.map(f => f.name),\n        selected: supported[0].name\n      });\n    } else {\n      setError('No supported audio recording formats found');\n      debugLog('âŒ No MediaRecorder support detected');\n    }\n    return supported;\n  };\n\n  // STRATEGIC: Setup system FFmpeg integration with comprehensive batch scripts\n  const setupSystemFFmpeg = async () => {\n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'downloads'\n        });\n        setWorkingDirectory(dirHandle);\n\n        // Create comprehensive FFmpeg setup script\n        const setupScript = `@echo off\necho ========================================\necho WhatsApp Audio Studio - FFmpeg Setup\necho ========================================\necho.\necho Testing FFmpeg installation...\nffmpeg -version >nul 2>&1\nif %ERRORLEVEL% EQU 0 (\n    echo âœ… FFmpeg is installed and working\n    echo.\n    ffmpeg -version | findstr \"ffmpeg version\"\n    echo.\n    echo Ready to process WhatsApp audio files!\n    echo.\n    echo USAGE:\n    echo 1. Record audio in the web app\n    echo 2. Run the generated process_audio_[timestamp].bat files\n    echo 3. Use the output .ogg or .m4a files in WhatsApp\n    echo.\n) else (\n    echo âŒ FFmpeg not found in PATH\n    echo.\n    echo INSTALLATION REQUIRED:\n    echo 1. Download FFmpeg from: https://ffmpeg.org/download.html\n    echo 2. Extract to C:\\\\ffmpeg\\\\\n    echo 3. Add C:\\\\ffmpeg\\\\bin to your PATH environment variable\n    echo 4. Restart this application\n    echo.\n)\necho ========================================\npause`;\n        const setupBlob = new Blob([setupScript], {\n          type: 'text/plain'\n        });\n        const setupHandle = await dirHandle.getFileHandle('00_setup_ffmpeg.bat', {\n          create: true\n        });\n        const setupWritable = await setupHandle.createWritable();\n        await setupWritable.write(setupBlob);\n        await setupWritable.close();\n\n        // Create README file\n        const readme = `# WhatsApp Audio Studio - System FFmpeg Integration\n\n## How it works:\n1. Record audio in the web browser\n2. Raw audio files are saved here as .webm\n3. FFmpeg batch scripts are automatically generated\n4. Run the batch scripts to create WhatsApp-compatible files\n\n## Required Software:\n- FFmpeg (download from https://ffmpeg.org)\n- Add FFmpeg to your system PATH\n\n## Generated Files:\n- input_[timestamp].webm - Raw recorded audio\n- process_audio_[timestamp].bat - FFmpeg processing script\n- whatsapp_voice_[timestamp].ogg - Voice message (16kHz mono, 32kbps)\n- whatsapp_music_[timestamp].m4a - Music file (44.1kHz stereo, 128kbps, faststart)\n\n## WhatsApp Compatibility:\nâœ… Voice messages: Upload .ogg files to WhatsApp for instant voice playback\nâœ… Music files: Upload .m4a files to WhatsApp for high-quality music playback\n\n## Troubleshooting:\n- Run 00_setup_ffmpeg.bat to test your FFmpeg installation\n- Make sure FFmpeg is in your system PATH\n- Use Windows Command Prompt or PowerShell to run batch files`;\n        const readmeBlob = new Blob([readme], {\n          type: 'text/plain'\n        });\n        const readmeHandle = await dirHandle.getFileHandle('README.md', {\n          create: true\n        });\n        const readmeWritable = await readmeHandle.createWritable();\n        await readmeWritable.write(readmeBlob);\n        await readmeWritable.close();\n        debugLog('âœ… System FFmpeg integration setup complete', {\n          directory: dirHandle.name,\n          files: ['00_setup_ffmpeg.bat', 'README.md']\n        });\n        return true;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('âš ï¸ System FFmpeg setup declined', err.message);\n        setError('File system access required for FFmpeg integration');\n      }\n      return false;\n    }\n  };\n\n  // STRATEGIC: Create comprehensive FFmpeg processing scripts\n  const createFFmpegProcessingScripts = async (webmBlob, timestamp) => {\n    if (!workingDirectory) return null;\n    try {\n      setProcessingStatus('Creating FFmpeg processing scripts...');\n      const inputFile = `input_${timestamp}.webm`;\n      const voiceOutput = `whatsapp_voice_${timestamp}.ogg`;\n      const musicOutput = `whatsapp_music_${timestamp}.m4a`;\n      const processScript = `process_audio_${timestamp}.bat`;\n\n      // Write input WebM file\n      const inputHandle = await workingDirectory.getFileHandle(inputFile, {\n        create: true\n      });\n      const inputWritable = await inputHandle.createWritable();\n      await inputWritable.write(webmBlob);\n      await inputWritable.close();\n\n      // Create comprehensive processing script\n      const ffmpegScript = `@echo off\necho ========================================\necho WhatsApp Audio Processing - ${new Date().toLocaleString()}\necho ========================================\necho.\necho Input file: ${inputFile}\necho Processing audio for WhatsApp compatibility...\necho.\n\nREM Check if FFmpeg is available\nffmpeg -version >nul 2>&1\nif %ERRORLEVEL% NEQ 0 (\n    echo âŒ ERROR: FFmpeg not found in PATH\n    echo Please install FFmpeg and add it to your PATH\n    echo Download from: https://ffmpeg.org/download.html\n    echo.\n    pause\n    exit /b 1\n)\n\necho âœ… FFmpeg found, starting processing...\necho.\n\nREM Create WhatsApp Voice Message (OGG Opus)\necho ðŸŽ¤ Creating voice message: ${voiceOutput}\nffmpeg -i \"${inputFile}\" ^\n    -c:a libopus ^\n    -b:a 32k ^\n    -vbr on ^\n    -compression_level 10 ^\n    -application voip ^\n    -ac 1 ^\n    -ar 16000 ^\n    -f ogg ^\n    \"${voiceOutput}\" ^\n    -y\n\nif %ERRORLEVEL% EQU 0 (\n    echo âœ… Voice message created successfully\n) else (\n    echo âŒ Voice message creation failed\n)\necho.\n\nREM Create WhatsApp Music File (M4A AAC with faststart)\necho ðŸŽµ Creating music file: ${musicOutput}\nffmpeg -i \"${inputFile}\" ^\n    -c:a aac ^\n    -b:a 128k ^\n    -movflags +faststart ^\n    -ac 2 ^\n    -ar 44100 ^\n    \"${musicOutput}\" ^\n    -y\n\nif %ERRORLEVEL% EQU 0 (\n    echo âœ… Music file created successfully\n) else (\n    echo âŒ Music file creation failed\n)\necho.\n\nREM Show file information\nif exist \"${voiceOutput}\" (\n    echo ðŸ“Š Voice file info:\n    ffprobe -v quiet -show_format -show_streams \"${voiceOutput}\" | findstr \"codec_name\\\\|sample_rate\\\\|channels\\\\|bit_rate\\\\|duration\"\n    echo.\n)\n\nif exist \"${musicOutput}\" (\n    echo ðŸ“Š Music file info:\n    ffprobe -v quiet -show_format -show_streams \"${musicOutput}\" | findstr \"codec_name\\\\|sample_rate\\\\|channels\\\\|bit_rate\\\\|duration\"\n    echo.\n)\n\necho ========================================\necho Processing Complete!\necho.\necho Files created:\nif exist \"${voiceOutput}\" echo âœ… ${voiceOutput} - Voice message for WhatsApp\nif exist \"${musicOutput}\" echo âœ… ${musicOutput} - Music file for WhatsApp\necho.\necho Usage:\necho 1. Upload ${voiceOutput} to WhatsApp for voice messages\necho 2. Upload ${musicOutput} to WhatsApp for music sharing\necho 3. Both files are optimized for instant playback\necho.\necho Note: You can now delete ${inputFile} if desired\necho ========================================\npause`;\n\n      // Write processing script\n      const scriptBlob = new Blob([ffmpegScript], {\n        type: 'text/plain'\n      });\n      const scriptHandle = await workingDirectory.getFileHandle(processScript, {\n        create: true\n      });\n      const scriptWritable = await scriptHandle.createWritable();\n      await scriptWritable.write(scriptBlob);\n      await scriptWritable.close();\n      debugLog('âœ… FFmpeg processing scripts created', {\n        input: inputFile,\n        script: processScript,\n        outputs: [voiceOutput, musicOutput]\n      });\n      return {\n        inputFile,\n        processScript,\n        voiceOutput,\n        musicOutput,\n        timestamp,\n        directory: workingDirectory.name\n      };\n    } catch (err) {\n      debugLog('âŒ FFmpeg script creation failed', err.message);\n      throw err;\n    }\n  };\n  const checkAndRequestPermissions = async () => {\n    try {\n      setPermissionStatus('checking');\n      const testStream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2\n        }\n      });\n      debugLog('âœ… Microphone access granted');\n      testStream.getTracks().forEach(track => track.stop());\n      setPermissionStatus('granted');\n\n      // Detect supported formats after getting permission\n      detectSupportedFormats();\n      return true;\n    } catch (err) {\n      debugLog('âŒ Permissions denied', err.message);\n      setPermissionStatus('denied');\n      setError(`Microphone required: ${err.message}`);\n      return false;\n    }\n  };\n  useEffect(() => {\n    checkAndRequestPermissions();\n  }, []);\n  const cleanup = useCallback(() => {\n    var _mediaRecorderRef$cur, _audioContextRef$curr;\n    [timerRef, animationRef].forEach(ref => {\n      if (ref.current) {\n        ref === timerRef ? clearInterval(ref.current) : cancelAnimationFrame(ref.current);\n        ref.current = null;\n      }\n    });\n    if (((_mediaRecorderRef$cur = mediaRecorderRef.current) === null || _mediaRecorderRef$cur === void 0 ? void 0 : _mediaRecorderRef$cur.state) !== 'inactive') {\n      try {\n        var _mediaRecorderRef$cur2;\n        (_mediaRecorderRef$cur2 = mediaRecorderRef.current) === null || _mediaRecorderRef$cur2 === void 0 ? void 0 : _mediaRecorderRef$cur2.stop();\n      } catch (e) {\n        debugLog('âš ï¸ MediaRecorder cleanup', e.message);\n      }\n      mediaRecorderRef.current = null;\n    }\n    if (((_audioContextRef$curr = audioContextRef.current) === null || _audioContextRef$curr === void 0 ? void 0 : _audioContextRef$curr.state) !== 'closed') {\n      var _audioContextRef$curr2;\n      (_audioContextRef$curr2 = audioContextRef.current) === null || _audioContextRef$curr2 === void 0 ? void 0 : _audioContextRef$curr2.close();\n      audioContextRef.current = null;\n    }\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n      setAudioStream(null);\n    }\n    setIsRecording(false);\n    setRecordingTime(0);\n  }, []);\n  useEffect(() => cleanup, [cleanup]);\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => setRecordingTime(prev => prev + 1), 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setRecordingTime(0);\n    }\n    return () => timerRef.current && clearInterval(timerRef.current);\n  }, [isRecording]);\n  const drawWaveform = useCallback(() => {\n    if (!canvasRef.current || !analyserRef.current || !isRecording) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n    const draw = () => {\n      if (!isRecording) return;\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteFrequencyData(dataArray);\n      ctx.fillStyle = \"#f0f2f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      const barWidth = canvas.width / dataArray.length * 2.5;\n      let x = 0;\n      for (let i = 0; i < dataArray.length; i++) {\n        const barHeight = dataArray[i] / 255 * canvas.height * 0.9;\n        const gradient = ctx.createLinearGradient(0, canvas.height - barHeight, 0, canvas.height);\n        gradient.addColorStop(0, '#25D366');\n        gradient.addColorStop(0.5, '#128C7E');\n        gradient.addColorStop(1, '#0d7377');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, canvas.height - barHeight, barWidth - 1, barHeight);\n        x += barWidth;\n      }\n    };\n    draw();\n  }, [isRecording]);\n  const startRecording = async () => {\n    try {\n      debugLog('ðŸŽ¬ Starting professional recording...');\n      setError(null);\n      cleanup();\n      if (permissionStatus !== 'granted') {\n        const granted = await checkAndRequestPermissions();\n        if (!granted) return;\n      }\n      if (!selectedFormat) {\n        setError('No supported recording format available');\n        return;\n      }\n\n      // Professional audio recording setup\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,\n          // Raw audio for FFmpeg processing\n          noiseSuppression: false,\n          // Let FFmpeg handle processing\n          autoGainControl: false,\n          // Maintain consistent levels\n          sampleRate: 48000,\n          // High quality source\n          channelCount: 2,\n          // Stereo for best quality\n          latency: 0.01\n        }\n      });\n      streamRef.current = stream;\n      setAudioStream(stream);\n\n      // Audio visualization\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      if (audioCtx.state === 'suspended') await audioCtx.resume();\n      const source = audioCtx.createMediaStreamSource(stream);\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 512;\n      analyser.smoothingTimeConstant = 0.3;\n      source.connect(analyser);\n      audioContextRef.current = audioCtx;\n      analyserRef.current = analyser;\n      dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\n\n      // Use the best supported format\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: selectedFormat.mimeType,\n        audioBitsPerSecond: 320000 // Maximum quality for FFmpeg processing\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.onstart = () => {\n        debugLog('ðŸŽ¬ Recording started', {\n          format: selectedFormat.name\n        });\n        setIsRecording(true);\n        drawWaveform();\n      };\n      mediaRecorder.ondataavailable = event => {\n        var _event$data;\n        if (((_event$data = event.data) === null || _event$data === void 0 ? void 0 : _event$data.size) > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        debugLog('â¹ï¸ Processing recorded audio...');\n        setIsProcessing(true);\n        if (audioChunksRef.current.length > 0) {\n          const rawBlob = new Blob(audioChunksRef.current, {\n            type: selectedFormat.mimeType\n          });\n          try {\n            const timestamp = Date.now();\n\n            // Create browser preview\n            await createBrowserPreview(rawBlob, selectedFormat.name);\n\n            // Create FFmpeg processing scripts if directory is available\n            if (workingDirectory) {\n              const ffmpegInfo = await createFFmpegProcessingScripts(rawBlob, timestamp);\n              await createFFmpegRecord(ffmpegInfo);\n            }\n          } catch (err) {\n            debugLog('âš ï¸ Processing failed', err.message);\n            setError(`Processing failed: ${err.message}`);\n          }\n        } else {\n          setError('No audio data captured');\n        }\n        setIsProcessing(false);\n        setProcessingStatus('');\n        audioChunksRef.current = [];\n      };\n      mediaRecorder.onerror = event => {\n        var _event$error;\n        debugLog('âŒ Recording error', event.error);\n        setError(`Recording failed: ${(_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.message}`);\n        cleanup();\n      };\n      mediaRecorder.start(50); // High frequency data collection\n    } catch (err) {\n      debugLog('ðŸ’¥ Recording failed', err);\n      setError(`Failed to start: ${err.message}`);\n      cleanup();\n    }\n  };\n  const stopRecording = () => {\n    var _mediaRecorderRef$cur3;\n    debugLog('â¹ï¸ Stopping recording...');\n    if (((_mediaRecorderRef$cur3 = mediaRecorderRef.current) === null || _mediaRecorderRef$cur3 === void 0 ? void 0 : _mediaRecorderRef$cur3.state) === 'recording') {\n      mediaRecorderRef.current.stop();\n    }\n    setIsRecording(false);\n    setTimeout(cleanup, 1000);\n  };\n  const createBrowserPreview = async (blob, formatName) => {\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);\n    const extension = blob.type.includes('webm') ? 'webm' : blob.type.includes('ogg') ? 'ogg' : 'audio';\n    const filename = `browser-preview-${timestamp}.${extension}`;\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename;\n    link.style.display = 'none';\n    document.body.appendChild(link);\n    const recording = {\n      id: Date.now(),\n      url,\n      blob,\n      filename,\n      duration: recordingTime,\n      timestamp: new Date().toLocaleTimeString(),\n      size: blob.size,\n      type: 'browser',\n      description: `Browser Preview (${formatName})`,\n      downloadLink: link,\n      isSystemProcessed: false\n    };\n    setRecordings(prev => [...prev, recording]);\n    debugLog(`âœ… Browser preview created`, {\n      filename,\n      format: formatName\n    });\n  };\n  const createFFmpegRecord = async ffmpegInfo => {\n    const recording = {\n      id: Date.now() + 1,\n      filename: ffmpegInfo.processScript,\n      duration: recordingTime,\n      timestamp: new Date().toLocaleTimeString(),\n      type: 'ffmpeg',\n      description: 'System FFmpeg Processing',\n      isSystemProcessed: true,\n      ffmpegInfo\n    };\n    setRecordings(prev => [...prev, recording]);\n    debugLog(`âœ… FFmpeg processing record created`, ffmpegInfo);\n  };\n  const downloadRecording = recording => {\n    if (recording.downloadLink) {\n      recording.downloadLink.click();\n      debugLog('âœ… File downloaded', recording.filename);\n    }\n  };\n  const removeRecording = index => {\n    setRecordings(prev => {\n      const recording = prev[index];\n      if (recording.url) {\n        URL.revokeObjectURL(recording.url);\n      }\n      if (recording.downloadLink && document.body.contains(recording.downloadLink)) {\n        document.body.removeChild(recording.downloadLink);\n      }\n      return prev.filter((_, i) => i !== index);\n    });\n  };\n  const formatFileSize = bytes => {\n    if (!bytes) return 'Processing...';\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n  const getRecordingIcon = type => {\n    switch (type) {\n      case 'browser':\n        return 'ðŸŒ';\n      case 'ffmpeg':\n        return 'âš™ï¸';\n      default:\n        return 'ðŸ“¼';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-[#ece5dd] min-h-screen p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-[#075e54] via-[#128C7E] to-[#25D366] text-white p-6 rounded-lg shadow-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl\",\n              children: \"\\uD83C\\uDFA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold\",\n              children: \"WhatsApp Audio Studio Pro\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm opacity-90\",\n              children: \"Professional FFmpeg integration for WhatsApp compatibility\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: permissionStatus === 'granted' ? 'âœ… Ready' : permissionStatus === 'denied' ? 'âŒ Access Required' : 'â³ Initializing...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"opacity-75\",\n            children: [\"Format: \", (selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name) || 'Detecting...']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 13\n          }, this), workingDirectory && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs opacity-75\",\n            children: [\"\\uD83D\\uDCC1 \", workingDirectory.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 7\n    }, this), supportedFormats.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border border-blue-200 p-4 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-blue-800\",\n            children: \"Browser Audio Support\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-600\",\n            children: [\"Detected: \", supportedFormats.map(f => f.name).join(', '), \" \\u2022 Using: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-600\",\n          children: [supportedFormats.length, \" format\", supportedFormats.length !== 1 ? 's' : '', \" supported\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 9\n    }, this), !workingDirectory && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-amber-50 border border-amber-200 p-6 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-3xl\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-amber-800\",\n              children: \"System FFmpeg Integration Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-amber-600\",\n              children: \"For guaranteed WhatsApp compatibility, enable system FFmpeg processing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-amber-500 mt-1\",\n              children: \"Creates professional-grade audio files with exact WhatsApp specifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: setupSystemFFmpeg,\n          className: \"px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors shadow-md\",\n          children: \"Setup FFmpeg Integration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 9\n    }, this), (isProcessing || processingStatus) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 border border-green-200 p-4 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin text-green-600 text-xl\",\n          children: \"\\u2699\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-green-800\",\n            children: \"Processing Audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-600\",\n            children: processingStatus || 'Creating files...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 9\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 p-4 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-4 h-4 bg-red-500 rounded-full animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-red-800\",\n            children: [\"Recording with \", selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name, \" \\u2022 Ultra-High Quality\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-600 font-mono text-xl\",\n          children: [recordingTime, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 711,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border-l-4 border-red-400 p-4 rounded flex justify-between items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-700\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"text-red-400 hover:text-red-600 font-bold text-xl ml-4\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center\",\n      children: !isRecording ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startRecording,\n        disabled: permissionStatus !== 'granted' || !selectedFormat,\n        className: `flex items-center space-x-4 px-10 py-5 rounded-full shadow-2xl transition-all transform hover:scale-105 ${permissionStatus !== 'granted' || !selectedFormat ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-gradient-to-r from-[#25D366] via-[#128C7E] to-[#075e54] hover:from-[#128C7E] hover:to-[#075e54] text-white'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-3xl\",\n          children: \"\\uD83C\\uDFA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-bold text-lg\",\n            children: \"Start Recording\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm opacity-90\",\n            children: selectedFormat ? `${selectedFormat.name} â€¢ 320kbps` : 'Format detection...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopRecording,\n        className: \"flex items-center space-x-4 bg-red-500 hover:bg-red-600 text-white px-10 py-5 rounded-full shadow-2xl relative transition-all transform hover:scale-105\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-3xl\",\n          children: \"\\u23F9\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-bold text-lg\",\n            children: \"Stop Recording\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm opacity-90\",\n            children: [recordingTime, \" seconds\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute -top-3 -right-3 w-6 h-6 bg-red-300 rounded-full animate-ping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 7\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-lg max-w-5xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 900,\n        height: 140,\n        className: \"w-full border-2 border-gray-200 rounded-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-600 mt-4 flex items-center justify-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"animate-pulse text-2xl\",\n          children: \"\\uD83C\\uDFB5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-lg\",\n          children: [\"Professional Audio Capture \\u2022 \", recordingTime, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm bg-gray-100 px-2 py-1 rounded\",\n          children: selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4 max-w-6xl mx-auto\",\n      children: recordings.map((rec, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-6 bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all border-l-4 border-[#25D366]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-gradient-to-br from-[#25D366] to-[#075e54] rounded-full flex items-center justify-center flex-shrink-0 text-white text-3xl shadow-lg\",\n          children: getRecordingIcon(rec.type)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-4 py-2 rounded-full text-sm font-semibold ${rec.type === 'ffmpeg' ? 'bg-purple-50 text-purple-600' : 'bg-blue-50 text-blue-600'}`,\n              children: rec.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 17\n            }, this), rec.type === 'ffmpeg' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs bg-green-100 text-green-600 px-2 py-1 rounded font-medium\",\n              children: \"\\u2705 WhatsApp Compatible\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this), rec.url && /*#__PURE__*/_jsxDEV(\"audio\", {\n            controls: true,\n            src: rec.url,\n            className: \"w-full mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u23F1\\uFE0F \", rec.duration, \"s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 19\n              }, this), rec.size && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDCC1 \", formatFileSize(rec.size)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 818,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rec.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this), rec.isSystemProcessed && rec.ffmpegInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 p-4 bg-purple-50 border border-purple-200 rounded text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-purple-800 mb-2\",\n              children: \"\\uD83D\\uDCC1 System FFmpeg Processing:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-purple-600 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Directory:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 26\n                }, this), \" \", rec.ffmpegInfo.directory]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Process Script:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 26\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  className: \"bg-purple-100 px-1 rounded\",\n                  children: rec.ffmpegInfo.processScript\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 59\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Outputs:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 829,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"ml-4 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"code\", {\n                    className: \"bg-purple-100 px-1 rounded\",\n                    children: rec.ffmpegInfo.voiceOutput\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 831,\n                    columnNumber: 29\n                  }, this), \" - WhatsApp voice message\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"code\", {\n                    className: \"bg-purple-100 px-1 rounded\",\n                    children: rec.ffmpegInfo.musicOutput\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 832,\n                    columnNumber: 29\n                  }, this), \" - WhatsApp music file\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 p-2 bg-purple-100 rounded border border-purple-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Instructions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 835,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                  className: \"list-decimal list-inside mt-1 space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"Navigate to: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: rec.ffmpegInfo.directory\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 837,\n                      columnNumber: 42\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 837,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"Double-click: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: rec.ffmpegInfo.processScript\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 43\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 838,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Wait for FFmpeg processing to complete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 839,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Upload the .ogg/.m4a files to WhatsApp\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 840,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-400 mt-2 font-mono truncate\",\n            children: [\"\\uD83D\\uDCF1 \", rec.filename]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 flex-shrink-0\",\n          children: [rec.downloadLink && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => downloadRecording(rec),\n            className: \"px-5 py-3 bg-[#25D366] hover:bg-[#128C7E] text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg\",\n            children: \"\\uD83D\\uDCBE Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeRecording(index),\n            className: \"px-5 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg\",\n            children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 13\n        }, this)]\n      }, rec.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 791,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 7\n    }, this), recordings.length === 0 && !isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-gray-500 py-20 max-w-2xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-8xl mb-6\",\n        children: \"\\uD83C\\uDFA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-3xl font-bold mb-4\",\n        children: \"Professional WhatsApp Audio Studio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg mb-3\",\n        children: \"System FFmpeg integration for guaranteed compatibility\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-400\",\n        children: [\"Records in \", (selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name) || 'best available format', \" and processes with professional FFmpeg\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 873,\n      columnNumber: 9\n    }, this), recordings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-green-50 via-blue-50 to-purple-50 border border-green-200 p-8 rounded-xl max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold text-xl text-green-800 mb-6 flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83C\\uDFAF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"WhatsApp Integration Workflow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 888,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 886,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-6 rounded-lg border border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-blue-700 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83C\\uDF10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Browser Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2 text-sm text-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Purpose:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 23\n              }, this), \" Immediate playback for quality check\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 898,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Format:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 899,\n                columnNumber: 23\n              }, this), \" \", (selectedFormat === null || selectedFormat === void 0 ? void 0 : selectedFormat.name) || 'Auto-detected', \" at 320kbps\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Compatibility:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 23\n              }, this), \" Basic preview only\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Usage:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 901,\n                columnNumber: 23\n              }, this), \" Test recording quality before processing\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 892,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-purple-50 p-6 rounded-lg border border-purple-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-purple-700 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2699\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"System FFmpeg Processing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2 text-sm text-purple-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Voice:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 23\n              }, this), \" OGG Opus (16kHz mono, 32kbps, VOIP mode)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Music:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 912,\n                columnNumber: 23\n              }, this), \" M4A AAC (44.1kHz stereo, 128kbps, faststart)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quality:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 23\n              }, this), \" Professional-grade encoding\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 913,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Compatibility:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 914,\n                columnNumber: 23\n              }, this), \" Guaranteed WhatsApp playback\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 891,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 border border-yellow-200 p-6 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-yellow-800 mb-4 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDE80\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Step-by-Step WhatsApp Workflow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 920,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"list-decimal list-inside space-y-3 text-sm text-yellow-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Setup:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 17\n            }, this), \" Click \\\"Setup FFmpeg Integration\\\" and select a working directory\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-yellow-600 ml-4 mt-1\",\n              children: \"\\u2192 Installs setup scripts and README in your chosen folder\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Record:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 17\n            }, this), \" Click \\\"Start Recording\\\" to capture high-quality audio\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-yellow-600 ml-4 mt-1\",\n              children: \"\\u2192 Creates both browser preview and FFmpeg processing files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 933,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Process:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 17\n            }, this), \" Navigate to your working directory and run the .bat file\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-yellow-600 ml-4 mt-1\",\n              children: \"\\u2192 FFmpeg creates WhatsApp-compatible .ogg and .m4a files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 939,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 937,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Upload:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 944,\n              columnNumber: 17\n            }, this), \" Use the processed files in WhatsApp\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-yellow-600 ml-4 mt-1\",\n              children: \"\\u2192 .ogg files for voice messages, .m4a files for music\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 945,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 943,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-yellow-100 rounded border border-yellow-300\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-yellow-800\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD83D\\uDCA1 Pro Tip:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 17\n            }, this), \" Run \", /*#__PURE__*/_jsxDEV(\"code\", {\n              children: \"00_setup_ffmpeg.bat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 50\n            }, this), \" first to verify your FFmpeg installation. The system uses identical parameters to professional audio studios for guaranteed compatibility.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 919,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 885,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 623,\n    columnNumber: 5\n  }, this);\n}\n_s(WhatsAppAudioRecorder, \"zkJNRRnK4M+7jurXWbftFcbXOsA=\");\n_c = WhatsAppAudioRecorder;\nvar _c;\n$RefreshReg$(_c, \"WhatsAppAudioRecorder\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","jsxDEV","_jsxDEV","WhatsAppAudioRecorder","_s","recordings","setRecordings","isRecording","setIsRecording","recordingTime","setRecordingTime","audioStream","setAudioStream","permissionStatus","setPermissionStatus","error","setError","isProcessing","setIsProcessing","processingStatus","setProcessingStatus","workingDirectory","setWorkingDirectory","supportedFormats","setSupportedFormats","selectedFormat","setSelectedFormat","mediaRecorderRef","audioChunksRef","timerRef","audioContextRef","analyserRef","dataArrayRef","animationRef","canvasRef","streamRef","debugLog","message","data","console","log","detectSupportedFormats","formats","mimeType","name","priority","supported","filter","format","MediaRecorder","isTypeSupported","sort","a","b","length","map","f","selected","setupSystemFFmpeg","window","dirHandle","showDirectoryPicker","mode","startIn","setupScript","setupBlob","Blob","type","setupHandle","getFileHandle","create","setupWritable","createWritable","write","close","readme","readmeBlob","readmeHandle","readmeWritable","directory","files","err","createFFmpegProcessingScripts","webmBlob","timestamp","inputFile","voiceOutput","musicOutput","processScript","inputHandle","inputWritable","ffmpegScript","Date","toLocaleString","scriptBlob","scriptHandle","scriptWritable","input","script","outputs","checkAndRequestPermissions","testStream","navigator","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","autoGainControl","sampleRate","channelCount","getTracks","forEach","track","stop","cleanup","_mediaRecorderRef$cur","_audioContextRef$curr","ref","current","clearInterval","cancelAnimationFrame","state","_mediaRecorderRef$cur2","e","_audioContextRef$curr2","setInterval","prev","drawWaveform","canvas","ctx","getContext","analyser","dataArray","draw","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","width","height","barWidth","x","i","barHeight","gradient","createLinearGradient","addColorStop","startRecording","granted","stream","latency","audioCtx","AudioContext","webkitAudioContext","resume","source","createMediaStreamSource","createAnalyser","fftSize","smoothingTimeConstant","connect","Uint8Array","frequencyBinCount","mediaRecorder","audioBitsPerSecond","onstart","ondataavailable","event","_event$data","size","push","onstop","rawBlob","now","createBrowserPreview","ffmpegInfo","createFFmpegRecord","onerror","_event$error","start","stopRecording","_mediaRecorderRef$cur3","setTimeout","blob","formatName","toISOString","replace","slice","extension","includes","filename","url","URL","createObjectURL","link","document","createElement","href","download","style","display","body","appendChild","recording","id","duration","toLocaleTimeString","description","downloadLink","isSystemProcessed","downloadRecording","click","removeRecording","index","revokeObjectURL","contains","removeChild","_","formatFileSize","bytes","k","sizes","Math","floor","parseFloat","pow","toFixed","getRecordingIcon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","join","onClick","disabled","rec","controls","src","_c","$RefreshReg$"],"sources":["/home/maksim/src/react/wa-audio-sandbox-20/src/components/WhatsAppAudioRecorder.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\n\nexport default function WhatsAppAudioRecorder() {\n  const [recordings, setRecordings] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioStream, setAudioStream] = useState(null);\n  const [permissionStatus, setPermissionStatus] = useState('checking');\n  const [error, setError] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [processingStatus, setProcessingStatus] = useState('');\n  const [workingDirectory, setWorkingDirectory] = useState(null);\n  const [supportedFormats, setSupportedFormats] = useState([]);\n  const [selectedFormat, setSelectedFormat] = useState(null);\n  \n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n\n  const debugLog = (message, data = null) => {\n    console.log(`ðŸŽ¤ ${message}`, data);\n  };\n\n  // STRATEGIC: Detect all supported MediaRecorder formats\n  const detectSupportedFormats = () => {\n    const formats = [\n      { mimeType: 'audio/webm; codecs=opus', name: 'WebM Opus', priority: 1 },\n      { mimeType: 'audio/webm', name: 'WebM', priority: 2 },\n      { mimeType: 'audio/ogg; codecs=opus', name: 'OGG Opus', priority: 3 },\n      { mimeType: 'audio/ogg', name: 'OGG', priority: 4 },\n      { mimeType: 'audio/mp4', name: 'MP4', priority: 5 },\n      { mimeType: 'audio/wav', name: 'WAV', priority: 6 },\n      { mimeType: 'audio/mpeg', name: 'MP3', priority: 7 }\n    ];\n\n    const supported = formats.filter(format => \n      MediaRecorder.isTypeSupported(format.mimeType)\n    ).sort((a, b) => a.priority - b.priority);\n\n    setSupportedFormats(supported);\n    \n    if (supported.length > 0) {\n      setSelectedFormat(supported[0]);\n      debugLog('âœ… MediaRecorder formats detected', {\n        supported: supported.map(f => f.name),\n        selected: supported[0].name\n      });\n    } else {\n      setError('No supported audio recording formats found');\n      debugLog('âŒ No MediaRecorder support detected');\n    }\n\n    return supported;\n  };\n\n  // STRATEGIC: Setup system FFmpeg integration with comprehensive batch scripts\n  const setupSystemFFmpeg = async () => {\n    try {\n      if ('showDirectoryPicker' in window) {\n        const dirHandle = await window.showDirectoryPicker({\n          mode: 'readwrite',\n          startIn: 'downloads'\n        });\n        setWorkingDirectory(dirHandle);\n        \n        // Create comprehensive FFmpeg setup script\n        const setupScript = `@echo off\necho ========================================\necho WhatsApp Audio Studio - FFmpeg Setup\necho ========================================\necho.\necho Testing FFmpeg installation...\nffmpeg -version >nul 2>&1\nif %ERRORLEVEL% EQU 0 (\n    echo âœ… FFmpeg is installed and working\n    echo.\n    ffmpeg -version | findstr \"ffmpeg version\"\n    echo.\n    echo Ready to process WhatsApp audio files!\n    echo.\n    echo USAGE:\n    echo 1. Record audio in the web app\n    echo 2. Run the generated process_audio_[timestamp].bat files\n    echo 3. Use the output .ogg or .m4a files in WhatsApp\n    echo.\n) else (\n    echo âŒ FFmpeg not found in PATH\n    echo.\n    echo INSTALLATION REQUIRED:\n    echo 1. Download FFmpeg from: https://ffmpeg.org/download.html\n    echo 2. Extract to C:\\\\ffmpeg\\\\\n    echo 3. Add C:\\\\ffmpeg\\\\bin to your PATH environment variable\n    echo 4. Restart this application\n    echo.\n)\necho ========================================\npause`;\n        \n        const setupBlob = new Blob([setupScript], { type: 'text/plain' });\n        const setupHandle = await dirHandle.getFileHandle('00_setup_ffmpeg.bat', { create: true });\n        const setupWritable = await setupHandle.createWritable();\n        await setupWritable.write(setupBlob);\n        await setupWritable.close();\n\n        // Create README file\n        const readme = `# WhatsApp Audio Studio - System FFmpeg Integration\n\n## How it works:\n1. Record audio in the web browser\n2. Raw audio files are saved here as .webm\n3. FFmpeg batch scripts are automatically generated\n4. Run the batch scripts to create WhatsApp-compatible files\n\n## Required Software:\n- FFmpeg (download from https://ffmpeg.org)\n- Add FFmpeg to your system PATH\n\n## Generated Files:\n- input_[timestamp].webm - Raw recorded audio\n- process_audio_[timestamp].bat - FFmpeg processing script\n- whatsapp_voice_[timestamp].ogg - Voice message (16kHz mono, 32kbps)\n- whatsapp_music_[timestamp].m4a - Music file (44.1kHz stereo, 128kbps, faststart)\n\n## WhatsApp Compatibility:\nâœ… Voice messages: Upload .ogg files to WhatsApp for instant voice playback\nâœ… Music files: Upload .m4a files to WhatsApp for high-quality music playback\n\n## Troubleshooting:\n- Run 00_setup_ffmpeg.bat to test your FFmpeg installation\n- Make sure FFmpeg is in your system PATH\n- Use Windows Command Prompt or PowerShell to run batch files`;\n\n        const readmeBlob = new Blob([readme], { type: 'text/plain' });\n        const readmeHandle = await dirHandle.getFileHandle('README.md', { create: true });\n        const readmeWritable = await readmeHandle.createWritable();\n        await readmeWritable.write(readmeBlob);\n        await readmeWritable.close();\n        \n        debugLog('âœ… System FFmpeg integration setup complete', {\n          directory: dirHandle.name,\n          files: ['00_setup_ffmpeg.bat', 'README.md']\n        });\n        \n        return true;\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        debugLog('âš ï¸ System FFmpeg setup declined', err.message);\n        setError('File system access required for FFmpeg integration');\n      }\n      return false;\n    }\n  };\n\n  // STRATEGIC: Create comprehensive FFmpeg processing scripts\n  const createFFmpegProcessingScripts = async (webmBlob, timestamp) => {\n    if (!workingDirectory) return null;\n\n    try {\n      setProcessingStatus('Creating FFmpeg processing scripts...');\n      \n      const inputFile = `input_${timestamp}.webm`;\n      const voiceOutput = `whatsapp_voice_${timestamp}.ogg`;\n      const musicOutput = `whatsapp_music_${timestamp}.m4a`;\n      const processScript = `process_audio_${timestamp}.bat`;\n      \n      // Write input WebM file\n      const inputHandle = await workingDirectory.getFileHandle(inputFile, { create: true });\n      const inputWritable = await inputHandle.createWritable();\n      await inputWritable.write(webmBlob);\n      await inputWritable.close();\n\n      // Create comprehensive processing script\n      const ffmpegScript = `@echo off\necho ========================================\necho WhatsApp Audio Processing - ${new Date().toLocaleString()}\necho ========================================\necho.\necho Input file: ${inputFile}\necho Processing audio for WhatsApp compatibility...\necho.\n\nREM Check if FFmpeg is available\nffmpeg -version >nul 2>&1\nif %ERRORLEVEL% NEQ 0 (\n    echo âŒ ERROR: FFmpeg not found in PATH\n    echo Please install FFmpeg and add it to your PATH\n    echo Download from: https://ffmpeg.org/download.html\n    echo.\n    pause\n    exit /b 1\n)\n\necho âœ… FFmpeg found, starting processing...\necho.\n\nREM Create WhatsApp Voice Message (OGG Opus)\necho ðŸŽ¤ Creating voice message: ${voiceOutput}\nffmpeg -i \"${inputFile}\" ^\n    -c:a libopus ^\n    -b:a 32k ^\n    -vbr on ^\n    -compression_level 10 ^\n    -application voip ^\n    -ac 1 ^\n    -ar 16000 ^\n    -f ogg ^\n    \"${voiceOutput}\" ^\n    -y\n\nif %ERRORLEVEL% EQU 0 (\n    echo âœ… Voice message created successfully\n) else (\n    echo âŒ Voice message creation failed\n)\necho.\n\nREM Create WhatsApp Music File (M4A AAC with faststart)\necho ðŸŽµ Creating music file: ${musicOutput}\nffmpeg -i \"${inputFile}\" ^\n    -c:a aac ^\n    -b:a 128k ^\n    -movflags +faststart ^\n    -ac 2 ^\n    -ar 44100 ^\n    \"${musicOutput}\" ^\n    -y\n\nif %ERRORLEVEL% EQU 0 (\n    echo âœ… Music file created successfully\n) else (\n    echo âŒ Music file creation failed\n)\necho.\n\nREM Show file information\nif exist \"${voiceOutput}\" (\n    echo ðŸ“Š Voice file info:\n    ffprobe -v quiet -show_format -show_streams \"${voiceOutput}\" | findstr \"codec_name\\\\|sample_rate\\\\|channels\\\\|bit_rate\\\\|duration\"\n    echo.\n)\n\nif exist \"${musicOutput}\" (\n    echo ðŸ“Š Music file info:\n    ffprobe -v quiet -show_format -show_streams \"${musicOutput}\" | findstr \"codec_name\\\\|sample_rate\\\\|channels\\\\|bit_rate\\\\|duration\"\n    echo.\n)\n\necho ========================================\necho Processing Complete!\necho.\necho Files created:\nif exist \"${voiceOutput}\" echo âœ… ${voiceOutput} - Voice message for WhatsApp\nif exist \"${musicOutput}\" echo âœ… ${musicOutput} - Music file for WhatsApp\necho.\necho Usage:\necho 1. Upload ${voiceOutput} to WhatsApp for voice messages\necho 2. Upload ${musicOutput} to WhatsApp for music sharing\necho 3. Both files are optimized for instant playback\necho.\necho Note: You can now delete ${inputFile} if desired\necho ========================================\npause`;\n\n      // Write processing script\n      const scriptBlob = new Blob([ffmpegScript], { type: 'text/plain' });\n      const scriptHandle = await workingDirectory.getFileHandle(processScript, { create: true });\n      const scriptWritable = await scriptHandle.createWritable();\n      await scriptWritable.write(scriptBlob);\n      await scriptWritable.close();\n\n      debugLog('âœ… FFmpeg processing scripts created', {\n        input: inputFile,\n        script: processScript,\n        outputs: [voiceOutput, musicOutput]\n      });\n\n      return {\n        inputFile,\n        processScript,\n        voiceOutput,\n        musicOutput,\n        timestamp,\n        directory: workingDirectory.name\n      };\n\n    } catch (err) {\n      debugLog('âŒ FFmpeg script creation failed', err.message);\n      throw err;\n    }\n  };\n\n  const checkAndRequestPermissions = async () => {\n    try {\n      setPermissionStatus('checking');\n      \n      const testStream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          echoCancellation: false,\n          noiseSuppression: false,\n          autoGainControl: false,\n          sampleRate: 48000,\n          channelCount: 2,\n        } \n      });\n      \n      debugLog('âœ… Microphone access granted');\n      testStream.getTracks().forEach(track => track.stop());\n      setPermissionStatus('granted');\n      \n      // Detect supported formats after getting permission\n      detectSupportedFormats();\n      \n      return true;\n      \n    } catch (err) {\n      debugLog('âŒ Permissions denied', err.message);\n      setPermissionStatus('denied');\n      setError(`Microphone required: ${err.message}`);\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    checkAndRequestPermissions();\n  }, []);\n\n  const cleanup = useCallback(() => {\n    [timerRef, animationRef].forEach(ref => {\n      if (ref.current) {\n        ref === timerRef ? clearInterval(ref.current) : cancelAnimationFrame(ref.current);\n        ref.current = null;\n      }\n    });\n    \n    if (mediaRecorderRef.current?.state !== 'inactive') {\n      try {\n        mediaRecorderRef.current?.stop();\n      } catch (e) {\n        debugLog('âš ï¸ MediaRecorder cleanup', e.message);\n      }\n      mediaRecorderRef.current = null;\n    }\n    \n    if (audioContextRef.current?.state !== 'closed') {\n      audioContextRef.current?.close();\n      audioContextRef.current = null;\n    }\n    \n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n      setAudioStream(null);\n    }\n    \n    setIsRecording(false);\n    setRecordingTime(0);\n  }, []);\n\n  useEffect(() => cleanup, [cleanup]);\n\n  useEffect(() => {\n    if (isRecording) {\n      timerRef.current = setInterval(() => setRecordingTime(prev => prev + 1), 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setRecordingTime(0);\n    }\n    return () => timerRef.current && clearInterval(timerRef.current);\n  }, [isRecording]);\n\n  const drawWaveform = useCallback(() => {\n    if (!canvasRef.current || !analyserRef.current || !isRecording) return;\n    \n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const analyser = analyserRef.current;\n    const dataArray = dataArrayRef.current;\n\n    const draw = () => {\n      if (!isRecording) return;\n      animationRef.current = requestAnimationFrame(draw);\n      analyser.getByteFrequencyData(dataArray);\n\n      ctx.fillStyle = \"#f0f2f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      \n      const barWidth = (canvas.width / dataArray.length) * 2.5;\n      let x = 0;\n\n      for (let i = 0; i < dataArray.length; i++) {\n        const barHeight = (dataArray[i] / 255) * canvas.height * 0.9;\n        const gradient = ctx.createLinearGradient(0, canvas.height - barHeight, 0, canvas.height);\n        gradient.addColorStop(0, '#25D366');\n        gradient.addColorStop(0.5, '#128C7E');\n        gradient.addColorStop(1, '#0d7377');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, canvas.height - barHeight, barWidth - 1, barHeight);\n        x += barWidth;\n      }\n    };\n    draw();\n  }, [isRecording]);\n\n  const startRecording = async () => {\n    try {\n      debugLog('ðŸŽ¬ Starting professional recording...');\n      setError(null);\n      cleanup();\n      \n      if (permissionStatus !== 'granted') {\n        const granted = await checkAndRequestPermissions();\n        if (!granted) return;\n      }\n\n      if (!selectedFormat) {\n        setError('No supported recording format available');\n        return;\n      }\n\n      // Professional audio recording setup\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: false,    // Raw audio for FFmpeg processing\n          noiseSuppression: false,    // Let FFmpeg handle processing\n          autoGainControl: false,     // Maintain consistent levels\n          sampleRate: 48000,          // High quality source\n          channelCount: 2,            // Stereo for best quality\n          latency: 0.01\n        }\n      });\n      \n      streamRef.current = stream;\n      setAudioStream(stream);\n\n      // Audio visualization\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      if (audioCtx.state === 'suspended') await audioCtx.resume();\n      \n      const source = audioCtx.createMediaStreamSource(stream);\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 512;\n      analyser.smoothingTimeConstant = 0.3;\n      source.connect(analyser);\n      \n      audioContextRef.current = audioCtx;\n      analyserRef.current = analyser;\n      dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\n\n      // Use the best supported format\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: selectedFormat.mimeType,\n        audioBitsPerSecond: 320000 // Maximum quality for FFmpeg processing\n      });\n\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.onstart = () => {\n        debugLog('ðŸŽ¬ Recording started', { format: selectedFormat.name });\n        setIsRecording(true);\n        drawWaveform();\n      };\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data?.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        debugLog('â¹ï¸ Processing recorded audio...');\n        setIsProcessing(true);\n        \n        if (audioChunksRef.current.length > 0) {\n          const rawBlob = new Blob(audioChunksRef.current, { \n            type: selectedFormat.mimeType \n          });\n          \n          try {\n            const timestamp = Date.now();\n            \n            // Create browser preview\n            await createBrowserPreview(rawBlob, selectedFormat.name);\n            \n            // Create FFmpeg processing scripts if directory is available\n            if (workingDirectory) {\n              const ffmpegInfo = await createFFmpegProcessingScripts(rawBlob, timestamp);\n              await createFFmpegRecord(ffmpegInfo);\n            }\n            \n          } catch (err) {\n            debugLog('âš ï¸ Processing failed', err.message);\n            setError(`Processing failed: ${err.message}`);\n          }\n        } else {\n          setError('No audio data captured');\n        }\n        \n        setIsProcessing(false);\n        setProcessingStatus('');\n        audioChunksRef.current = [];\n      };\n\n      mediaRecorder.onerror = (event) => {\n        debugLog('âŒ Recording error', event.error);\n        setError(`Recording failed: ${event.error?.message}`);\n        cleanup();\n      };\n\n      mediaRecorder.start(50); // High frequency data collection\n      \n    } catch (err) {\n      debugLog('ðŸ’¥ Recording failed', err);\n      setError(`Failed to start: ${err.message}`);\n      cleanup();\n    }\n  };\n\n  const stopRecording = () => {\n    debugLog('â¹ï¸ Stopping recording...');\n    if (mediaRecorderRef.current?.state === 'recording') {\n      mediaRecorderRef.current.stop();\n    }\n    setIsRecording(false);\n    setTimeout(cleanup, 1000);\n  };\n\n  const createBrowserPreview = async (blob, formatName) => {\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);\n    const extension = blob.type.includes('webm') ? 'webm' : \n                     blob.type.includes('ogg') ? 'ogg' : 'audio';\n    const filename = `browser-preview-${timestamp}.${extension}`;\n    \n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename;\n    link.style.display = 'none';\n    document.body.appendChild(link);\n    \n    const recording = {\n      id: Date.now(),\n      url,\n      blob,\n      filename,\n      duration: recordingTime,\n      timestamp: new Date().toLocaleTimeString(),\n      size: blob.size,\n      type: 'browser',\n      description: `Browser Preview (${formatName})`,\n      downloadLink: link,\n      isSystemProcessed: false\n    };\n    \n    setRecordings(prev => [...prev, recording]);\n    debugLog(`âœ… Browser preview created`, { filename, format: formatName });\n  };\n\n  const createFFmpegRecord = async (ffmpegInfo) => {\n    const recording = {\n      id: Date.now() + 1,\n      filename: ffmpegInfo.processScript,\n      duration: recordingTime,\n      timestamp: new Date().toLocaleTimeString(),\n      type: 'ffmpeg',\n      description: 'System FFmpeg Processing',\n      isSystemProcessed: true,\n      ffmpegInfo\n    };\n    \n    setRecordings(prev => [...prev, recording]);\n    debugLog(`âœ… FFmpeg processing record created`, ffmpegInfo);\n  };\n\n  const downloadRecording = (recording) => {\n    if (recording.downloadLink) {\n      recording.downloadLink.click();\n      debugLog('âœ… File downloaded', recording.filename);\n    }\n  };\n\n  const removeRecording = (index) => {\n    setRecordings(prev => {\n      const recording = prev[index];\n      if (recording.url) {\n        URL.revokeObjectURL(recording.url);\n      }\n      if (recording.downloadLink && document.body.contains(recording.downloadLink)) {\n        document.body.removeChild(recording.downloadLink);\n      }\n      return prev.filter((_, i) => i !== index);\n    });\n  };\n\n  const formatFileSize = (bytes) => {\n    if (!bytes) return 'Processing...';\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  const getRecordingIcon = (type) => {\n    switch (type) {\n      case 'browser': return 'ðŸŒ';\n      case 'ffmpeg': return 'âš™ï¸';\n      default: return 'ðŸ“¼';\n    }\n  };\n\n  return (\n    <div className=\"bg-[#ece5dd] min-h-screen p-4 space-y-4\">\n      {/* Professional header */}\n      <div className=\"bg-gradient-to-r from-[#075e54] via-[#128C7E] to-[#25D366] text-white p-6 rounded-lg shadow-xl\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\">\n              <span className=\"text-2xl\">ðŸŽ¤</span>\n            </div>\n            <div>\n              <h1 className=\"text-2xl font-bold\">WhatsApp Audio Studio Pro</h1>\n              <p className=\"text-sm opacity-90\">Professional FFmpeg integration for WhatsApp compatibility</p>\n            </div>\n          </div>\n          <div className=\"text-right text-sm\">\n            <div className=\"font-medium\">\n              {permissionStatus === 'granted' ? 'âœ… Ready' : \n               permissionStatus === 'denied' ? 'âŒ Access Required' : 'â³ Initializing...'}\n            </div>\n            <div className=\"opacity-75\">\n              Format: {selectedFormat?.name || 'Detecting...'}\n            </div>\n            {workingDirectory && (\n              <div className=\"text-xs opacity-75\">ðŸ“ {workingDirectory.name}</div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Format compatibility status */}\n      {supportedFormats.length > 0 && (\n        <div className=\"bg-blue-50 border border-blue-200 p-4 rounded-lg\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"font-semibold text-blue-800\">Browser Audio Support</h3>\n              <p className=\"text-sm text-blue-600\">\n                Detected: {supportedFormats.map(f => f.name).join(', ')} â€¢ \n                Using: <strong>{selectedFormat?.name}</strong>\n              </p>\n            </div>\n            <div className=\"text-blue-600\">\n              {supportedFormats.length} format{supportedFormats.length !== 1 ? 's' : ''} supported\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* System FFmpeg setup */}\n      {!workingDirectory && (\n        <div className=\"bg-amber-50 border border-amber-200 p-6 rounded-lg\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <span className=\"text-3xl\">âš™ï¸</span>\n              <div>\n                <h3 className=\"font-bold text-amber-800\">System FFmpeg Integration Required</h3>\n                <p className=\"text-sm text-amber-600\">\n                  For guaranteed WhatsApp compatibility, enable system FFmpeg processing\n                </p>\n                <p className=\"text-xs text-amber-500 mt-1\">\n                  Creates professional-grade audio files with exact WhatsApp specifications\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={setupSystemFFmpeg}\n              className=\"px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors shadow-md\"\n            >\n              Setup FFmpeg Integration\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Processing status */}\n      {(isProcessing || processingStatus) && (\n        <div className=\"bg-green-50 border border-green-200 p-4 rounded-lg\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"animate-spin text-green-600 text-xl\">âš™ï¸</div>\n            <div>\n              <div className=\"font-semibold text-green-800\">Processing Audio</div>\n              <div className=\"text-sm text-green-600\">{processingStatus || 'Creating files...'}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Recording status */}\n      {isRecording && (\n        <div className=\"bg-red-50 border border-red-200 p-4 rounded-lg\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <span className=\"w-4 h-4 bg-red-500 rounded-full animate-pulse\"></span>\n              <span className=\"font-semibold text-red-800\">\n                Recording with {selectedFormat?.name} â€¢ Ultra-High Quality\n              </span>\n            </div>\n            <span className=\"text-red-600 font-mono text-xl\">{recordingTime}s</span>\n          </div>\n        </div>\n      )}\n\n      {/* Error display */}\n      {error && (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 rounded flex justify-between items-start\">\n          <span className=\"text-red-700\">{error}</span>\n          <button \n            onClick={() => setError(null)}\n            className=\"text-red-400 hover:text-red-600 font-bold text-xl ml-4\"\n          >\n            Ã—\n          </button>\n        </div>\n      )}\n\n      {/* Recording controls */}\n      <div className=\"flex justify-center\">\n        {!isRecording ? (\n          <button\n            onClick={startRecording}\n            disabled={permissionStatus !== 'granted' || !selectedFormat}\n            className={`flex items-center space-x-4 px-10 py-5 rounded-full shadow-2xl transition-all transform hover:scale-105 ${\n              permissionStatus !== 'granted' || !selectedFormat\n                ? 'bg-gray-300 text-gray-500 cursor-not-allowed' \n                : 'bg-gradient-to-r from-[#25D366] via-[#128C7E] to-[#075e54] hover:from-[#128C7E] hover:to-[#075e54] text-white'\n            }`}\n          >\n            <span className=\"text-3xl\">ðŸŽ¤</span>\n            <div>\n              <div className=\"font-bold text-lg\">Start Recording</div>\n              <div className=\"text-sm opacity-90\">\n                {selectedFormat ? `${selectedFormat.name} â€¢ 320kbps` : 'Format detection...'}\n              </div>\n            </div>\n          </button>\n        ) : (\n          <button\n            onClick={stopRecording}\n            className=\"flex items-center space-x-4 bg-red-500 hover:bg-red-600 text-white px-10 py-5 rounded-full shadow-2xl relative transition-all transform hover:scale-105\"\n          >\n            <span className=\"text-3xl\">â¹ï¸</span>\n            <div>\n              <div className=\"font-bold text-lg\">Stop Recording</div>\n              <div className=\"text-sm opacity-90\">{recordingTime} seconds</div>\n            </div>\n            <span className=\"absolute -top-3 -right-3 w-6 h-6 bg-red-300 rounded-full animate-ping\"></span>\n          </button>\n        )}\n      </div>\n\n      {/* Waveform visualization */}\n      {isRecording && (\n        <div className=\"bg-white p-6 rounded-xl shadow-lg max-w-5xl mx-auto\">\n          <canvas\n            ref={canvasRef}\n            width={900}\n            height={140}\n            className=\"w-full border-2 border-gray-200 rounded-lg\"\n          />\n          <div className=\"text-center text-gray-600 mt-4 flex items-center justify-center space-x-3\">\n            <span className=\"animate-pulse text-2xl\">ðŸŽµ</span>\n            <span className=\"font-semibold text-lg\">Professional Audio Capture â€¢ {recordingTime}s</span>\n            <span className=\"text-sm bg-gray-100 px-2 py-1 rounded\">{selectedFormat?.name}</span>\n          </div>\n        </div>\n      )}\n\n      {/* Recordings display */}\n      <div className=\"grid gap-4 max-w-6xl mx-auto\">\n        {recordings.map((rec, index) => (\n          <div\n            key={rec.id}\n            className=\"flex items-center space-x-6 bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all border-l-4 border-[#25D366]\"\n          >\n            <div className=\"w-16 h-16 bg-gradient-to-br from-[#25D366] to-[#075e54] rounded-full flex items-center justify-center flex-shrink-0 text-white text-3xl shadow-lg\">\n              {getRecordingIcon(rec.type)}\n            </div>\n            \n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center space-x-3 mb-3\">\n                <span className={`px-4 py-2 rounded-full text-sm font-semibold ${\n                  rec.type === 'ffmpeg' ? 'bg-purple-50 text-purple-600' : 'bg-blue-50 text-blue-600'\n                }`}>\n                  {rec.description}\n                </span>\n                {rec.type === 'ffmpeg' && (\n                  <span className=\"text-xs bg-green-100 text-green-600 px-2 py-1 rounded font-medium\">\n                    âœ… WhatsApp Compatible\n                  </span>\n                )}\n              </div>\n              \n              {rec.url && <audio controls src={rec.url} className=\"w-full mb-3\" />}\n              \n              <div className=\"flex justify-between items-center text-sm text-gray-600\">\n                <div className=\"flex items-center space-x-4\">\n                  <span>â±ï¸ {rec.duration}s</span>\n                  {rec.size && <span>ðŸ“ {formatFileSize(rec.size)}</span>}\n                </div>\n                <span>{rec.timestamp}</span>\n              </div>\n              \n              {rec.isSystemProcessed && rec.ffmpegInfo && (\n                <div className=\"mt-3 p-4 bg-purple-50 border border-purple-200 rounded text-sm\">\n                  <div className=\"font-semibold text-purple-800 mb-2\">ðŸ“ System FFmpeg Processing:</div>\n                  <div className=\"text-purple-600 space-y-1\">\n                    <div><strong>Directory:</strong> {rec.ffmpegInfo.directory}</div>\n                    <div><strong>Process Script:</strong> <code className=\"bg-purple-100 px-1 rounded\">{rec.ffmpegInfo.processScript}</code></div>\n                    <div><strong>Outputs:</strong></div>\n                    <ul className=\"ml-4 space-y-1\">\n                      <li>â€¢ <code className=\"bg-purple-100 px-1 rounded\">{rec.ffmpegInfo.voiceOutput}</code> - WhatsApp voice message</li>\n                      <li>â€¢ <code className=\"bg-purple-100 px-1 rounded\">{rec.ffmpegInfo.musicOutput}</code> - WhatsApp music file</li>\n                    </ul>\n                    <div className=\"mt-2 p-2 bg-purple-100 rounded border border-purple-300\">\n                      <strong>Instructions:</strong>\n                      <ol className=\"list-decimal list-inside mt-1 space-y-1\">\n                        <li>Navigate to: <strong>{rec.ffmpegInfo.directory}</strong></li>\n                        <li>Double-click: <strong>{rec.ffmpegInfo.processScript}</strong></li>\n                        <li>Wait for FFmpeg processing to complete</li>\n                        <li>Upload the .ogg/.m4a files to WhatsApp</li>\n                      </ol>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"text-xs text-gray-400 mt-2 font-mono truncate\">\n                ðŸ“± {rec.filename}\n              </div>\n            </div>\n\n            <div className=\"flex space-x-3 flex-shrink-0\">\n              {rec.downloadLink && (\n                <button\n                  onClick={() => downloadRecording(rec)}\n                  className=\"px-5 py-3 bg-[#25D366] hover:bg-[#128C7E] text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg\"\n                >\n                  ðŸ’¾ Save\n                </button>\n              )}\n              <button\n                onClick={() => removeRecording(index)}\n                className=\"px-5 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg\"\n              >\n                ðŸ—‘ï¸ Delete\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {recordings.length === 0 && !isRecording && (\n        <div className=\"text-center text-gray-500 py-20 max-w-2xl mx-auto\">\n          <div className=\"text-8xl mb-6\">ðŸŽ¤</div>\n          <h3 className=\"text-3xl font-bold mb-4\">Professional WhatsApp Audio Studio</h3>\n          <p className=\"text-lg mb-3\">System FFmpeg integration for guaranteed compatibility</p>\n          <p className=\"text-sm text-gray-400\">\n            Records in {selectedFormat?.name || 'best available format'} and processes with professional FFmpeg\n          </p>\n        </div>\n      )}\n\n      {/* Comprehensive usage guide */}\n      {recordings.length > 0 && (\n        <div className=\"bg-gradient-to-r from-green-50 via-blue-50 to-purple-50 border border-green-200 p-8 rounded-xl max-w-6xl mx-auto\">\n          <h3 className=\"font-bold text-xl text-green-800 mb-6 flex items-center space-x-3\">\n            <span>ðŸŽ¯</span>\n            <span>WhatsApp Integration Workflow</span>\n          </h3>\n          \n          <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\n            <div className=\"bg-blue-50 p-6 rounded-lg border border-blue-200\">\n              <h4 className=\"font-semibold text-blue-700 mb-4 flex items-center space-x-2\">\n                <span>ðŸŒ</span>\n                <span>Browser Preview</span>\n              </h4>\n              <ul className=\"space-y-2 text-sm text-blue-600\">\n                <li>â€¢ <strong>Purpose:</strong> Immediate playback for quality check</li>\n                <li>â€¢ <strong>Format:</strong> {selectedFormat?.name || 'Auto-detected'} at 320kbps</li>\n                <li>â€¢ <strong>Compatibility:</strong> Basic preview only</li>\n                <li>â€¢ <strong>Usage:</strong> Test recording quality before processing</li>\n              </ul>\n            </div>\n            \n            <div className=\"bg-purple-50 p-6 rounded-lg border border-purple-200\">\n              <h4 className=\"font-semibold text-purple-700 mb-4 flex items-center space-x-2\">\n                <span>âš™ï¸</span>\n                <span>System FFmpeg Processing</span>\n              </h4>\n              <ul className=\"space-y-2 text-sm text-purple-600\">\n                <li>â€¢ <strong>Voice:</strong> OGG Opus (16kHz mono, 32kbps, VOIP mode)</li>\n                <li>â€¢ <strong>Music:</strong> M4A AAC (44.1kHz stereo, 128kbps, faststart)</li>\n                <li>â€¢ <strong>Quality:</strong> Professional-grade encoding</li>\n                <li>â€¢ <strong>Compatibility:</strong> Guaranteed WhatsApp playback</li>\n              </ul>\n            </div>\n          </div>\n          \n          <div className=\"bg-yellow-50 border border-yellow-200 p-6 rounded-lg\">\n            <h4 className=\"font-semibold text-yellow-800 mb-4 flex items-center space-x-2\">\n              <span>ðŸš€</span>\n              <span>Step-by-Step WhatsApp Workflow</span>\n            </h4>\n            <ol className=\"list-decimal list-inside space-y-3 text-sm text-yellow-700\">\n              <li>\n                <strong>Setup:</strong> Click \"Setup FFmpeg Integration\" and select a working directory\n                <div className=\"text-xs text-yellow-600 ml-4 mt-1\">\n                  â†’ Installs setup scripts and README in your chosen folder\n                </div>\n              </li>\n              <li>\n                <strong>Record:</strong> Click \"Start Recording\" to capture high-quality audio\n                <div className=\"text-xs text-yellow-600 ml-4 mt-1\">\n                  â†’ Creates both browser preview and FFmpeg processing files\n                </div>\n              </li>\n              <li>\n                <strong>Process:</strong> Navigate to your working directory and run the .bat file\n                <div className=\"text-xs text-yellow-600 ml-4 mt-1\">\n                  â†’ FFmpeg creates WhatsApp-compatible .ogg and .m4a files\n                </div>\n              </li>\n              <li>\n                <strong>Upload:</strong> Use the processed files in WhatsApp\n                <div className=\"text-xs text-yellow-600 ml-4 mt-1\">\n                  â†’ .ogg files for voice messages, .m4a files for music\n                </div>\n              </li>\n            </ol>\n            <div className=\"mt-4 p-3 bg-yellow-100 rounded border border-yellow-300\">\n              <p className=\"text-sm text-yellow-800\">\n                <strong>ðŸ’¡ Pro Tip:</strong> Run <code>00_setup_ffmpeg.bat</code> first to verify your FFmpeg installation. \n                The system uses identical parameters to professional audio studios for guaranteed compatibility.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}